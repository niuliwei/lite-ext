/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(a,r,t){var l={mix:function(i,d,u,w){if(!d||!i)return i;if(u===t)u=true;var j,q,v;if(w&&(v=w.length))for(j=0;j<v;j++){q=w[j];if(q in d)if(u||!(q in i))i[q]=d[q]}else for(q in d)if(u||!(q in i))i[q]=d[q];return i}},h=a&&a[r]||{},k=0;a=h.__HOST||(h.__HOST=a||{});r=a[r]=l.mix(h,l,false);r.mix(r,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var i={},d,u=arguments.length;for(d=0;d<u;d++)r.mix(i,arguments[d]);return i},augment:function(){var i=arguments,
d=i.length-2,u=i[0],w=i[d],j=i[d+1],q=1;if(!r.isArray(j)){w=j;j=t;d++}if(!r.isBoolean(w)){w=t;d++}for(;q<d;q++)r.mix(u.prototype,i[q].prototype||i[q],w,j);return u},extend:function(i,d,u,w){if(!d||!i)return i;var j=Object.create?function(f,p){return Object.create(f,{constructor:{value:p}})}:function(f,p){function e(){}e.prototype=f;var b=new e;b.constructor=p;return b},q=d.prototype,v;v=j(q,i);i.prototype=r.mix(v,i.prototype);i.superclass=j(q,d);u&&r.mix(v,u);w&&r.mix(i,w);return i},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var i=arguments,d=i.length,u=null,w,j,q,v=i[d-1]===true&&d--;for(w=0;w<d;w++){q=(""+i[w]).split(".");u=v?a:this;for(j=a[q[0]]===u?1:0;j<q.length;++j)u=u[q[j]]=u[q[j]]||{}}return u},app:function(i,d){var u=r.isString(i),w=u?a[i]||{}:i,j=0,q=r.__APP_INIT_METHODS.length;for(r.mix(w,this,true,r.__APP_MEMBERS);j<q;j++)r[r.__APP_INIT_METHODS[j]].call(w);r.mix(w,r.isFunction(d)?d():d);u&&(a[i]=w);return w},log:function(i,
d,u){if(r.Config.debug){if(u)i=u+": "+i;if(a.console!==t&&console.log)console[d&&console[d]?d:"log"](i)}},error:function(i){if(r.Config.debug)throw i;},guid:function(i){return(i||"")+k++}});r.__init();return r})(this,"KISSY");
(function(a,r){var t=a.__HOST,l=Object.prototype.toString,h=Array.prototype.indexOf,k=Array.prototype.lastIndexOf,i=Array.prototype.filter,d=String.prototype.trim,u=/^\s+|\s+$/g,w={};a.mix(a,{type:function(j){return j==null?String(j):w[l.call(j)]||"object"},isNull:function(j){return j===null},isUndefined:function(j){return j===r},isEmptyObject:function(j){for(var q in j)return false;return true},isPlainObject:function(j){return j&&l.call(j)==="[object Object]"&&"isPrototypeOf"in j},clone:function(j,
q,v){var f=j,p,e,b=v||{};if(j&&((p=a.isArray(j))||a.isPlainObject(j))){if(j["__~ks_cloned"])return b[j["__~ks_cloned"]];j["__~ks_cloned"]=f=a.guid();b[f]=j;if(p)f=q?a.filter(j,q):j.concat();else{f={};for(e in j)if(e!=="__~ks_cloned"&&j.hasOwnProperty(e)&&(!q||q.call(j,j[e],e,j)!==false))f[e]=a.clone(j[e],q,b)}}if(!v){a.each(b,function(c){if(c["__~ks_cloned"])try{delete c["__~ks_cloned"]}catch(g){c["__~ks_cloned"]=r}});b=r}return f},trim:d?function(j){return j==r?"":d.call(j)}:function(j){return j==
r?"":j.toString().replace(u,"")},substitute:function(j,q,v){if(!a.isString(j)||!a.isPlainObject(q))return j;return j.replace(v||/\\?\{([^{}]+)\}/g,function(f,p){if(f.charAt(0)==="\\")return f.slice(1);return q[p]!==r?q[p]:""})},each:function(j,q,v){var f,p=0,e=j.length,b=e===r||a.type(j)==="function";v=v||t;if(b)for(f in j){if(q.call(v,j[f],f,j)===false)break}else for(f=j[0];p<e&&q.call(v,f,p,j)!==false;f=j[++p]);return j},indexOf:h?function(j,q){return h.call(q,j)}:function(j,q){for(var v=0,f=q.length;v<
f;++v)if(q[v]===j)return v;return-1},lastIndexOf:k?function(j,q){return k.call(q,j)}:function(j,q){for(var v=q.length-1;v>=0;v--)if(q[v]===j)break;return v},unique:function(j,q){q&&j.reverse();for(var v=j.slice(),f=0,p,e;f<v.length;){for(e=v[f];(p=a.lastIndexOf(e,v))!==f;)v.splice(p,1);f+=1}q&&v.reverse();return v},inArray:function(j,q){return a.indexOf(j,q)>-1},filter:i?function(j,q,v){return i.call(j,q,v||this)}:function(j,q,v){var f=[];a.each(j,function(p,e,b){if(q.call(v||this,p,e,b))f.push(p)});
return f},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,q){w["[object "+j+"]"]=q=j.toLowerCase();a["is"+j]=function(v){return a.type(v)==q}})})(KISSY);
(function(a,r){function t(e){var b=typeof e;return e===null||b!=="object"&&b!=="function"}function l(e){return Array.prototype.slice.call(e)}var h=a.__HOST,k=h.document,i=k.documentElement,d=encodeURIComponent("[]"),u=false,w=[],j=false,q=/^#?([\w-]+)$/,v=/^(\w+)\[\]$/,f=/\S/;a.mix(a,{isWindow:function(e){return a.type(e)==="object"&&"setInterval"in e},makeArray:function(e){if(e===null||e===r)return[];if(a.isArray(e))return e;if(typeof e.length!=="number"||a.isString(e)||a.isFunction(e))return[e];
return l(e)},param:function(e,b){if(!a.isPlainObject(e))return"";b=b||"&";var c=[],g,m;for(g in e){m=e[g];g=encodeURIComponent(g);if(t(m))c.push(g,"=",encodeURIComponent(m+""),b);else if(a.isArray(m)&&m.length)for(var o=0,s=m.length;o<s;++o)t(m[o])&&c.push(g,d+"=",encodeURIComponent(m[o]+""),b)}c.pop();return c.join("")},unparam:function(e,b){if(typeof e!=="string"||(e=a.trim(e)).length===0)return{};for(var c={},g=e.split(b||"&"),m,o,s,y,n=0,x=g.length;n<x;++n){m=g[n].split("=");o=decodeURIComponent(m[0]);
try{s=decodeURIComponent(m[1]||"")}catch(z){s=m[1]||""}if((y=o.match(v))&&y[1]){c[y[1]]=c[y[1]]||[];c[y[1]].push(s)}else c[o]=s}return c},globalEval:function(e){if(e&&f.test(e)){var b=k.getElementsByTagName("head")[0]||i,c=k.createElement("script");c.text=e;b.insertBefore(c,b.firstChild);b.removeChild(c)}},later:function(e,b,c,g,m){b=b||0;g=g||{};var o=e,s=a.makeArray(m),y;if(a.isString(e))o=g[e];o||a.error("method undefined");e=function(){o.apply(g,s)};y=c?setInterval(e,b):setTimeout(e,b);return{id:y,
interval:c,cancel:function(){this.interval?clearInterval(y):clearTimeout(y)}}},ready:function(e){j||this._bindReady();u?e.call(h,this):w.push(e);return this},_bindReady:function(){var e=this,b=k.documentElement.doScroll,c=b?"onreadystatechange":"DOMContentLoaded",g=function(){e._fireReady()};j=true;if(k.readyState==="complete")return g();if(k.addEventListener){var m=function(){k.removeEventListener(c,m,false);g()};k.addEventListener(c,m,false);h.addEventListener("load",g,false)}else{var o=function(){if(k.readyState===
"complete"){k.detachEvent(c,o);g()}};k.attachEvent(c,o);h.attachEvent("onload",g);var s=false;try{s=h.frameElement==null}catch(y){}if(b&&s){var n=function(){try{b("left");g()}catch(x){setTimeout(n,1)}};n()}}},_fireReady:function(){if(!u){u=true;if(w){for(var e,b=0;e=w[b++];)e.call(h,this);w=null}}},available:function(e,b){if((e=(e+"").match(q)[1])&&a.isFunction(b))var c=1,g=a.later(function(){if(k.getElementById(e)&&(b()||1)||++c>500)g.cancel()},40,true)}});try{l(i.childNodes)}catch(p){l=function(e){for(var b=
[],c=e.length-1;c>=0;c--)b[c]=e[c];return b}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,r){var t=a.__HOST.document,l=t.getElementsByTagName("head")[0]||t.documentElement,h=2,k=3,i=4,d=a.mix,u=t.createElement("script").readyState?function(f,p){var e=f.onreadystatechange;f.onreadystatechange=function(){var b=f.readyState;if(b==="loaded"||b==="complete"){f.onreadystatechange=null;e&&e();p.call(this)}}}:function(f,p){f.addEventListener("load",p,false)},w=/\.css(?:\?|$)/i,j;j={add:function(f,p,e){var b=this.Env.mods,c;if(a.isString(f)&&!e&&a.isPlainObject(p)){c={};c[f]=p;f=c}if(a.isPlainObject(f)){a.each(f,
function(g,m){g.name=m;b[m]&&d(g,b[m],false)});d(b,f)}else{e=e||{};c=b[f]||{};f=e.host||c.host||f;c=b[f]||{};d(c,{name:f,status:h});if(!c.fns)c.fns=[];p&&c.fns.push(p);d(b[f]=c,e);c.attach!==false&&this.__isAttached(c.requires)&&this.__attachMod(c)}return this},use:function(f,p,e){f=f.replace(/\s+/g,"").split(",");e=e||{};var b=this,c;e=(e||0).global;var g,m=f.length,o;e&&b.__mixMods(e);if(b.__isAttached(f))p&&p(b);else{for(g=0;g<m&&(c=f[g]);g++)b.__attachModByName(c,function(){if(!o&&b.__isAttached(f)){o=
true;p&&p(b)}},e);return b}},__attachModByName:function(f,p,e){var b=this.Env.mods,c=f.indexOf("+css")!=-1;f=c?f.replace(/\+css/g,""):f;var g=b[f];if(!g){g=this.Config.componentJsName||function(m){return m+"-pkg-min.js?t=20101229231326"};g=a.isFunction(g)?g(f):g;g={path:f+"/"+g,charset:"utf-8"};b[f]=g}if(c){b=this.Config.componentCssName||function(m){return m+"-min.css?t=20101229231326"};b=a.isFunction(b)?b(f):b;g.csspath=f+"/"+b}g.name=f;g&&g.status===i||this.__attach(g,p,e)},__attach:function(f,p,e){function b(){if(!n&&
c.__isAttached(f.requires)){f.status===h&&c.__attachMod(f);if(f.status===i){n=true;p()}}}for(var c=this,g=c.Env.mods,m=(f.requires||[]).concat(),o=0,s=m.length;o<s;o++){var y=g[m[o]];y&&y.status===i||c.__attachModByName(m[o],b,e)}c.__buildPath(f);c.__load(f,function(){for(var x=f.requires||[],z=[],A=x.length-1;A>=0;A--){var B=x[A],E=g[B],D=a.inArray(B,m);E&&E.status===i||D||c.__attachModByName(B,b,e);D||z.push(B)}z.length!=0&&z.unshift(f.name);b()},e);var n=false},__mixMods:function(f){var p=this.Env.mods,
e=f.Env.mods,b;for(b in e)this.__mixMod(p,e,b,f)},__mixMod:function(f,p,e,b){var c=f[e]||{},g=c.status;a.mix(c,a.clone(p[e]));if(g)c.status=g;b&&this.__buildPath(c,b.Config.base);f[e]=c},__attachMod:function(f){var p=this;if(f.fns){a.each(f.fns,function(e){e&&e(p)});f.fns=r}f.status=i},__isAttached:function(f){for(var p=this.Env.mods,e,b=(f=a.makeArray(f)).length-1;b>=0;b--){e=f[b].replace(/\+css/,"");e=p[e]||{};if(e.status!==i)return false}return true},__load:function(f,p,e){function b(){m[g]=h;
if(f.status!==k){e&&c.__mixMod(c.Env.mods,e.Env.mods,f.name,e);if(f.status!==i)f.status=h;p()}}var c=this,g=f.fullpath,m=a.Env._loadQueue,o=m[g];f.status=f.status||0;if(f.status<1&&o)f.status=o.nodeName?1:h;if(a.isString(f.cssfullpath)){c.getScript(f.cssfullpath);f.cssfullpath=h}if(f.status<1&&g){f.status=1;o=c.getScript(g,{success:function(){KISSY.log(f.name+" is loaded.","info");b()},error:function(){f.status=k;m[g]=h},charset:f.charset});w.test(g)||(m[g]=o)}else f.status===1?u(o,b):p()},__buildPath:function(f,
p){function e(c,g){if(!f[g]&&f[c])f[g]=(p||b.base)+f[c];if(f[g]&&b.debug)f[g]=f[g].replace(/-min/g,"")}var b=this.Config;e("path","fullpath");f.cssfullpath!==h&&e("csspath","cssfullpath")},getScript:function(f,p,e){var b=w.test(f),c=t.createElement(b?"link":"script"),g=p,m,o,s;if(a.isPlainObject(g)){p=g.success;m=g.error;o=g.timeout;e=g.charset}if(b){c.href=f;c.rel="stylesheet"}else{c.src=f;c.async=true}if(e)c.charset=e;if(b)a.isFunction(p)&&p.call(c);else u(c,function(){if(s){s.cancel();s=r}a.isFunction(p)&&
p.call(c);l&&c.parentNode&&l.removeChild(c)});if(a.isFunction(m))s=a.later(function(){s=r;m()},(o||this.Config.timeout)*1E3);l.insertBefore(c,l.firstChild);return c}};d(a,j);var q=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,v=/(seed|kissy)(-min)?\.js/;a.__initLoader=function(){var f=t.getElementsByTagName("script");f=f[f.length-1];var p=f.src,e=f.getAttribute("data-combo-prefix")||"??";f=f.getAttribute("data-combo-sep")||",";f=p.split(f);var b=f[0];e=b.indexOf(e);if(e==-1)p=p.replace(q,"$1");else{p=b.substring(0,
e);e=b.substring(e+2,b.length);if(e.match(v))p+=e.replace(q,"$1");else for(e=1;e<f.length;e++){b=f[e];if(b.match(v)){p+=b.replace(q,"$1");break}}}f=p;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=f;if(!this.Config.timeout)this.Config.timeout=10};a.__initLoader();a.each(j,function(f,p){a.__APP_MEMBERS.push(p)});a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
KISSY.add("ua",function(a){var r=navigator.userAgent,t="",l="",h,k={},i=function(d){var u=0;return parseFloat(d.replace(/\./g,function(){return u++===0?".":""}))};if((h=r.match(/AppleWebKit\/([\d.]*)/))&&h[1]){k[t="webkit"]=i(h[1]);if((h=r.match(/Chrome\/([\d.]*)/))&&h[1])k[l="chrome"]=i(h[1]);else if((h=r.match(/\/([\d.]*) Safari/))&&h[1])k[l="safari"]=i(h[1]);if(/ Mobile\//.test(r))k.mobile="apple";else if(h=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=h[0].toLowerCase()}else if((h=
r.match(/Presto\/([\d.]*)/))&&h[1]){k[t="presto"]=i(h[1]);if((h=r.match(/Opera\/([\d.]*)/))&&h[1]){k[l="opera"]=i(h[1]);if((h=r.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])k[l]=i(h[1]);if((h=r.match(/Opera Mini[^;]*/))&&h)k.mobile=h[0].toLowerCase();else if((h=r.match(/Opera Mobi[^;]*/))&&h)k.mobile=h[0]}}else if((h=r.match(/MSIE\s([^;]*)/))&&h[1]){k[t="trident"]=0.1;k[l="ie"]=i(h[1]);if((h=r.match(/Trident\/([\d.]*)/))&&h[1])k[t]=i(h[1])}else if(h=r.match(/Gecko/)){k[t="gecko"]=0.1;if((h=r.match(/rv:([\d.]*)/))&&
h[1])k[t]=i(h[1]);if((h=r.match(/Firefox\/([\d.]*)/))&&h[1])k[l="firefox"]=i(h[1])}k.core=t;k.shell=l;k._numberify=i;a.UA=k});
KISSY.add("ua-extra",function(a){var r=a.UA,t=navigator.userAgent,l,h,k={},i=r._numberify;if(t.match(/360SE/))k[h="se360"]=3;else if(t.match(/Maxthon/)&&(l=window.external)){h="maxthon";try{k[h]=i(l.max_version)}catch(d){k[h]=0.1}}else if(l=t.match(/TencentTraveler\s([\d.]*)/))k[h="tt"]=l[1]?i(l[1]):0.1;else if(t.match(/TheWorld/))k[h="theworld"]=3;else if(l=t.match(/SE\s([\d.]*)/))k[h="sougou"]=l[1]?i(l[1]):0.1;h&&(k.shell=h);a.mix(r,k)});
KISSY.add("dom",function(a,r){function t(l,h){return l&&l.nodeType===h}a.DOM={_isElementNode:function(l){return t(l,1)},_isKSNode:function(l){return a.Node&&t(l,a.Node.TYPE)},_getWin:function(l){return l&&"scrollTo"in l&&l.document?l:t(l,9)?l.defaultView||l.parentWindow:l===r?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(a,r){function t(b,c){var g,m,o=[],s;c=l(c);if(a.isString(b)){b=a.trim(b);if(p.test(b)){if(m=h(b.slice(1),c))o=[m]}else if(g=e.exec(b)){m=g[1];s=g[2];g=g[3];if(c=m?h(m,c):c)if(g)if(!m||b.indexOf(j)!==-1)o=i(g,s,c);else{if((m=h(m,c))&&w.hasClass(m,g))o=[m]}else if(s)o=k(s,c)}else if(a.ExternalSelector)return a.ExternalSelector(b,c);else d(b)}else if(b&&(b[v]||b[f]))o=b[v]?[b[v]()]:b[f]();else if(b&&(a.isArray(b)||b&&!b.nodeType&&b.item&&b!=window))o=b;else if(b)o=[b];if(o&&
!o.nodeType&&o.item&&o!=window)o=a.makeArray(o);o.each=function(y,n){return a.each(o,y,n)};return o}function l(b){if(b===r)b=u;else if(a.isString(b)&&p.test(b))b=h(b.slice(1),u);else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function h(b,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(b)}function k(b,c){return c.getElementsByTagName(b)}function i(b,c,g){g=b=g.getElementsByClassName(b);var m=0,o=0,s=b.length,y;if(c&&c!==q){g=[];for(c=c.toUpperCase();m<s;++m){y=b[m];if(y.tagName===
c)g[o++]=y}}return g}function d(b){a.error("Unsupported selector: "+b)}var u=document,w=a.DOM,j=" ",q="*",v="getDOMNode",f=v+"s",p=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=u.createElement("div");b.appendChild(u.createComment(""));if(b.getElementsByTagName(q).length>0)k=function(c,g){var m=g.getElementsByTagName(c);if(c===q){for(var o=[],s=0,y=0,n;n=m[s++];)if(n.nodeType===1)o[y++]=n;m=o}return m}})();u.getElementsByClassName||(i=u.querySelectorAll?function(b,c,
g){return g.querySelectorAll((c?c:"")+"."+b)}:function(b,c,g){c=g.getElementsByTagName(c||q);g=[];var m=0,o=0,s=c.length,y,n;for(b=j+b+j;m<s;++m){y=c[m];if((n=y.className)&&(j+n+j).indexOf(b)>-1)g[o++]=y}return g});a.query=t;a.get=function(b,c){return t(b,c)[0]||null};a.mix(w,{query:t,get:a.get,filter:function(b,c){var g=t(b),m,o,s,y=[];if(a.isString(c)&&(m=e.exec(c))&&!m[1]){o=m[2];s=m[3];c=function(n){return!(o&&n.tagName!==o.toUpperCase()||s&&!w.hasClass(n,s))}}if(a.isFunction(c))y=a.filter(g,
c);else if(c&&a.ExternalSelector)y=a.ExternalSelector._filter(b,c+"");else d(c);return y},test:function(b,c){var g=t(b);return g.length&&w.filter(g,c).length===g.length}})});
KISSY.add("dom-data",function(a,r){var t=window,l=a.DOM,h="_ks_data_"+a.now(),k={},i={},d={EMBED:1,OBJECT:1,APPLET:1};a.mix(l,{data:function(u,w,j){if(a.isPlainObject(w))for(var q in w)l.data(u,q,w[q]);else if(j===r){u=a.get(u);var v;if(!(!u||d[u.nodeName])){if(u==t)u=i;v=(q=u&&u.nodeType)?k:u;u=v[q?u[h]:h];if(a.isString(w)&&u)return u[w];return u}}else a.query(u).each(function(f){if(!(!f||d[f.nodeName])){if(f==t)f=i;var p=k,e;if(f&&f.nodeType){if(!(e=f[h]))e=f[h]=a.guid()}else{e=h;p=f}if(w&&j!==
r){p[e]||(p[e]={});p[e][w]=j}}})},removeData:function(u,w){a.query(u).each(function(j){if(j){if(j==t)j=i;var q,v=k,f,p=j&&j.nodeType;if(p)q=j[h];else{v=j;q=h}if(q){f=v[q];if(w){if(f){delete f[w];a.isEmptyObject(f)&&l.removeData(j)}}else{if(p)j.removeAttribute&&j.removeAttribute(h);else try{delete j[h]}catch(e){}p&&delete v[q]}}}})}})});
KISSY.add("dom-class",function(a,r){function t(i,d,u,w){if(!(d=a.trim(d)))return w?false:r;i=a.query(i);var j=0,q=i.length;d=d.split(h);for(var v;j<q;j++){v=i[j];if(l._isElementNode(v)){v=u(v,d,d.length);if(v!==r)return v}}if(w)return false}var l=a.DOM,h=/[\.\s]\s*\.?/,k=/[\n\t]/g;a.mix(l,{hasClass:function(i,d){return t(i,d,function(u,w,j){if(u=u.className){u=" "+u+" ";for(var q=0,v=true;q<j;q++)if(u.indexOf(" "+w[q]+" ")<0){v=false;break}if(v)return true}},true)},addClass:function(i,d){t(i,d,function(u,
w,j){var q=u.className;if(q){var v=" "+q+" ";q=q;for(var f=0;f<j;f++)if(v.indexOf(" "+w[f]+" ")<0)q+=" "+w[f];u.className=a.trim(q)}else u.className=d})},removeClass:function(i,d){t(i,d,function(u,w,j){var q=u.className;if(q)if(j){q=(" "+q+" ").replace(k," ");for(var v=0,f;v<j;v++)for(f=" "+w[v]+" ";q.indexOf(f)>=0;)q=q.replace(f," ");u.className=a.trim(q)}else u.className=""})},replaceClass:function(i,d,u){l.removeClass(i,d);l.addClass(i,u)},toggleClass:function(i,d,u){var w=a.isBoolean(u),j;t(i,
d,function(q,v,f){for(var p=0,e;p<f;p++){e=v[p];j=w?!u:l.hasClass(q,e);l[j?"removeClass":"addClass"](q,e)}})}})});
KISSY.add("dom-attr",function(a,r){var t=a.UA,l=document.documentElement,h=!l.hasAttribute,k=l.textContent!==r?"textContent":"innerText",i=a.DOM,d=i._isElementNode,u=/^(?:href|src|style)/,w=/^(?:href|src|colspan|rowspan)/,j=/\r/g,q=/^(?:radio|checkbox)/,v={readonly:"readOnly"},f={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};h&&a.mix(v,{"for":"htmlFor","class":"className"});a.mix(i,{attr:function(p,e,b,c){if(a.isPlainObject(e)){c=b;for(var g in e)i.attr(p,g,e[g],c)}else if(e=a.trim(e)){e=
e.toLowerCase();if(c&&f[e])return i[e](p,b);e=v[e]||e;if(b===r){p=a.get(p);if(!d(p))return r;var m;u.test(e)||(m=p[e]);if(m===r)m=p.getAttribute(e);if(h)if(w.test(e))m=p.getAttribute(e,2);else if(e==="style")m=p.style.cssText;return m===null?r:m}a.each(a.query(p),function(o){if(d(o))if(e==="style")o.style.cssText=b;else{if(e==="checked")o[e]=!!b;o.setAttribute(e,""+b)}})}},removeAttr:function(p,e){a.each(a.query(p),function(b){if(d(b)){i.attr(b,e,"");b.removeAttribute(e)}})},val:function(p,e){if(e===
r){var b=a.get(p);if(!d(b))return r;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var c=b.selectedIndex,g=b.options;if(c<0)return null;else if(b.type==="select-one")return i.val(g[c]);b=[];for(var m=0,o=g.length;m<o;++m)g[m].selected&&b.push(i.val(g[m]));return b}if(t.webkit&&q.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(j,"")}a.each(a.query(p),
function(s){if(s&&s.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(e))e+="";var y=a.makeArray(e),n=s.options,x;m=0;for(o=n.length;m<o;++m){x=n[m];x.selected=a.inArray(i.val(x),y)}if(!y.length)s.selectedIndex=-1}else if(d(s))s.value=e})},text:function(p,e){if(e===r){var b=a.get(p);if(d(b))return b[k]||"";else if(i._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(p),function(c){if(d(c))c[k]=e;else if(i._nodeTypeIs(c,3))c.nodeValue=e})}})});
KISSY.add("dom-style",function(a,r){function t(c,g){var m=a.get(c),o=g===u?m.offsetWidth:m.offsetHeight;a.each(g===u?["Left","Right"]:["Top","Bottom"],function(s){o-=parseFloat(h._getComputedStyle(m,"padding"+s))||0;o-=parseFloat(h._getComputedStyle(m,"border"+s+"Width"))||0});return o}function l(c,g,m){var o=m;if(m===w&&q.test(g)){o=0;if(a.inArray(h.css(c,"position"),["absolute","fixed"])){m=c[g==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)m-=j(h.css(c.offsetParent,"border-"+g+"-width"))||
0;o=m-(j(h.css(c,"margin-"+g))||0)}}return o}var h=a.DOM,k=a.UA,i=document,d=i.documentElement,u="width",w="auto",j=parseInt,q=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,f=/-([a-z])/ig,p=function(c,g){return g.toUpperCase()},e={},b={};a.mix(h,{_CUSTOM_STYLES:e,_getComputedStyle:function(c,g){var m="",o=c.ownerDocument;if(c.style)m=o.defaultView.getComputedStyle(c,null)[g];return m},css:function(c,g,m){if(a.isPlainObject(g))for(var o in g)h.css(c,o,g[o]);else{if(g.indexOf("-")>
0)g=g.replace(f,p);g=e[g]||g;if(m===r){c=a.get(c);o="";if(c&&c.style){o=g.get?g.get(c):c.style[g];if(o===""&&!g.get)o=l(c,g,h._getComputedStyle(c,g))}return o===r?"":o}else{if(m===null||m==="")m="";else if(!isNaN(new Number(m))&&v.test(g))m+="px";(g===u||g==="height")&&parseFloat(m)<0||a.each(a.query(c),function(s){if(s&&s.style){g.set?g.set(s,m):s.style[g]=m;if(m==="")s.style.cssText||s.removeAttribute("style")}})}}},width:function(c,g){if(g===r)return t(c,u);else h.css(c,u,g)},height:function(c,
g){if(g===r)return t(c,"height");else h.css(c,"height",g)},show:function(c){a.query(c).each(function(g){if(g){g.style.display=h.data(g,"display")||"";if(h.css(g,"display")==="none"){var m=g.tagName,o=b[m],s;if(!o){s=i.createElement(m);i.body.appendChild(s);o=h.css(s,"display");h.remove(s);b[m]=o}h.data(g,"display",o);g.style.display=o}}})},hide:function(c){a.query(c).each(function(g){if(g){var m=g.style,o=m.display;if(o!=="none"){o&&h.data(g,"display",o);m.display="none"}}})},toggle:function(c){a.query(c).each(function(g){if(g)g.style.display===
"none"?h.show(g):h.hide(g)})},addStyleSheet:function(c,g){var m;if(g&&(g=g.replace("#","")))m=a.get("#"+g);if(!m){m=h.create("<style>",{id:g});a.get("head").appendChild(m);if(m.styleSheet)m.styleSheet.cssText=c;else m.appendChild(i.createTextNode(c))}}});if(d.style.cssFloat!==r)e["float"]="cssFloat";else if(d.style.styleFloat!==r)e["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,r){if(a.UA.ie){var t=a.DOM,l=document,h=l.documentElement,k=t._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,d=/^-?\d/,u=/^(?:width|height)$/;try{if(h.style.opacity===r&&h.filters)k.opacity={get:function(j){var q=100;try{q=j.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(v){try{q=j.filters("alpha").opacity}catch(f){}}return q/100+""},set:function(j,q){var v=j.style,f=(j.currentStyle||0).filter||"";v.zoom=1;if(f)if(f=f.replace(/alpha\(opacity=.+\)/ig,""))f+=", ";
v.filter=f+"alpha(opacity="+q*100+")"}}}catch(w){}if(!(l.defaultView||{}).getComputedStyle&&h.currentStyle)t._getComputedStyle=function(j,q){var v=j.style,f=j.currentStyle[q];if(u.test(q))f=t[q](j)+"px";else if(!i.test(f)&&d.test(f)){var p=v.left,e=j.runtimeStyle.left;j.runtimeStyle.left=j.currentStyle.left;v.left=q==="fontSize"?"1em":f||0;f=v.pixelLeft+"px";v.left=p;j.runtimeStyle.left=e}return f}}});
KISSY.add("dom-offset",function(a,r){function t(m){var o=0,s=0,y=w(m[f]);if(m[g]){m=m[g]();o=m[p];s=m[e];if(h.mobile!=="apple"){o+=l[b](y);s+=l[c](y)}}return{left:o,top:s}}var l=a.DOM,h=a.UA,k=window,i=document,d=l._isElementNode,u=l._nodeTypeIs,w=l._getWin,j=i.compatMode==="CSS1Compat",q=Math.max,v=parseInt,f="ownerDocument",p="left",e="top",b="scrollLeft",c="scrollTop",g="getBoundingClientRect";a.mix(l,{offset:function(m,o){if(!(m=a.get(m))||!m[f])return null;if(o===r)return t(m);var s=m;if(l.css(s,
"position")==="static")s.style.position="relative";var y=t(s),n={},x,z;for(z in o){x=v(l.css(s,z),10)||0;n[z]=x+o[z]-y[z]}l.css(s,n)},scrollIntoView:function(m,o,s,y){if((m=a.get(m))&&m[f]){y=y===r?true:!!y;s=s===r?true:!!s;if(!o||o===k)return m.scrollIntoView(s);o=a.get(o);if(u(o,9))o=w(o);var n=o&&"scrollTo"in o&&o.document,x=l.offset(m),z=n?{left:l.scrollLeft(o),top:l.scrollTop(o)}:l.offset(o),A={left:x[p]-z[p],top:x[e]-z[e]};x=n?l.viewportHeight(o):o.clientHeight;z=n?l.viewportWidth(o):o.clientWidth;
var B=l[b](o),E=l[c](o),D=B+z,C=E+x,K=m.offsetHeight;m=m.offsetWidth;var J=A.left+B-(v(l.css(o,"borderLeftWidth"))||0);A=A.top+E-(v(l.css(o,"borderTopWidth"))||0);var G=J+m,F=A+K,H,I;if(K>x||A<E||s)H=A;else if(F>C)H=F-x;if(y)if(m>z||J<B||s)I=J;else if(G>D)I=G-z;if(n){if(H!==r||I!==r)o.scrollTo(I,H)}else{if(H!==r)o[c]=H;if(I!==r)o[b]=I}}}});a.each(["Left","Top"],function(m,o){var s="scroll"+m;l[s]=function(y){var n=0,x=w(y),z;if(x&&(z=x.document))n=x[o?"pageYOffset":"pageXOffset"]||z.documentElement[s]||
z.body[s];else if(d(y=a.get(y)))n=y[s];return n}});a.each(["Width","Height"],function(m){l["doc"+m]=function(o){o=o||i;return q(j?o.documentElement["scroll"+m]:o.body["scroll"+m],l["viewport"+m](o))};l["viewport"+m]=function(o){var s="inner"+m;o=w(o);var y=o.document;return s in o?o[s]:j?y.documentElement["client"+m]:y.body["client"+m]}})});
KISSY.add("dom-traversal",function(a,r){function t(i,d,u,w){if(!(i=a.get(i)))return null;if(d===r)d=1;var j=null,q,v;if(a.isNumber(d)&&d>=0){if(d===0)return i;q=0;v=d;d=function(){return++q===v}}for(;i=i[u];)if(k(i)&&(!d||h.test(i,d))&&(!w||w(i))){j=i;break}return j}function l(i,d,u){var w=[];var j=i=a.get(i);if(i&&u)j=i.parentNode;if(j){u=0;for(j=j.firstChild;j;j=j.nextSibling)if(k(j)&&j!==i&&(!d||h.test(j,d)))w[u++]=j}return w}var h=a.DOM,k=h._isElementNode;a.mix(h,{parent:function(i,d){return t(i,
d,"parentNode",function(u){return u.nodeType!=11})},next:function(i,d){return t(i,d,"nextSibling")},prev:function(i,d){return t(i,d,"previousSibling")},siblings:function(i,d){return l(i,d,true)},children:function(i,d){return l(i,d)},contains:function(i,d){var u=false;if((i=a.get(i))&&(d=a.get(d)))if(i.contains){if(d.nodeType===3){d=d.parentNode;if(d===i)return true}if(d)return i.contains(d)}else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(d)&16);else for(;!u&&(d=d.parentNode);)u=
d==i;return u}})});
KISSY.add("dom-create",function(a,r){function t(n){var x=n.cloneNode(true);if(d.ie<8)x.innerHTML=n.innerHTML;return x}function l(n,x,z,A){if(z){var B=a.guid("ks-tmp-"),E=RegExp(p);x+='<span id="'+B+'"></span>';a.available(B,function(){var D=a.get("head"),C,K,J,G,F,H;for(E.lastIndex=0;C=E.exec(x);)if((J=(K=C[1])?K.match(b):false)&&J[2]){C=k.createElement("script");C.src=J[2];if((G=K.match(c))&&G[2])C.charset=G[2];C.async=true;D.appendChild(C)}else if((H=C[2])&&H.length>0)a.globalEval(H);(F=k.getElementById(B))&&
i.remove(F);a.isFunction(A)&&A()});h(n,x)}else{h(n,x);a.isFunction(A)&&A()}}function h(n,x){x=(x+"").replace(p,"");try{n.innerHTML=x}catch(z){for(;n.firstChild;)n.removeChild(n.firstChild);x&&n.appendChild(i.create(x))}}var k=document,i=a.DOM,d=a.UA,u=d.ie,w=i._nodeTypeIs,j=i._isElementNode,q=i._isKSNode,v=k.createElement("div"),f=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,b=/\ssrc=(['"])(.*?)\1/i,c=/\scharset=(['"])(.*?)\1/i;a.mix(i,{create:function(n,
x,z){if(w(n,1)||w(n,3))return t(n);if(q(n))return t(n[0]);if(!(n=a.trim(n)))return null;var A=null;A=i._creators;var B,E="div",D;if(B=e.exec(n))A=(z||k).createElement(B[1]);else{if((B=f.exec(n))&&(D=B[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;n=A[E](n,z).childNodes;if(n.length===1)z=n[0].parentNode.removeChild(n[0]);else{n=n;D=z||k;z=null;if(n&&(n.push||n.item)&&n[0]){D=D||n[0].ownerDocument;z=D.createDocumentFragment();if(n.item)n=a.makeArray(n);D=0;for(A=n.length;D<A;D++)z.appendChild(n[D])}z=
z}A=z}z=A;j(z)&&a.isPlainObject(x)&&i.attr(z,x,true);return z},_creators:{div:function(n,x){var z=x?x.createElement("div"):v;z.innerHTML=n;return z}},html:function(n,x,z,A){if(x===r){n=a.get(n);if(j(n))return n.innerHTML}else a.each(a.query(n),function(B){j(B)&&l(B,x,z,A)})},remove:function(n){a.each(a.query(n),function(x){j(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(u||d.gecko||d.webkit){var g=i._creators,m=i.create,o=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,s={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},y;for(y in s)(function(n){g[y]=function(x,z){return m("<"+n+">"+x+"</"+n+">",null,z)}})(s[y]);if(u){g.script=function(n,x){var z=x?x.createElement("div"):v;z.innerHTML="-"+n;z.removeChild(z.firstChild);return z};if(u<8)g.tbody=function(n,x){var z=m("<table>"+n+"</table>",null,x),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!o.test(n)&&A.parentNode.removeChild(A);return z}}a.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,
caption:g.tbody,colgroup:g.tbody})}});
KISSY.add("dom-insertion",function(a){var r=a.DOM;a.mix(r,{insertBefore:function(t,l){if((t=a.get(t))&&(l=a.get(l))&&l.parentNode)l.parentNode.insertBefore(t,l);return t},insertAfter:function(t,l){if((t=a.get(t))&&(l=a.get(l))&&l.parentNode)l.nextSibling?l.parentNode.insertBefore(t,l.nextSibling):l.parentNode.appendChild(t);return t},append:function(t,l){if((t=a.get(t))&&(l=a.get(l)))l.appendChild&&l.appendChild(t)},prepend:function(t,l){if((t=a.get(t))&&(l=a.get(l)))l.firstChild?r.insertBefore(t,
l.firstChild):l.appendChild(t)}})});
KISSY.add("event",function(a,r){function t(p,e,b,c,g){if(a.isString(e))e=a.query(e);if(a.isArray(e)){a.each(e,function(m){f[p](m,b,c,g)});return true}if((b=a.trim(b))&&b.indexOf(j)>0){a.each(b.split(j),function(m){f[p](e,m,c,g)});return true}}function l(p){return p&&p.nodeType!==3&&p.nodeType!==8?i.data(p,w):-1}function h(p,e){p&&p.nodeType!==3&&p.nodeType!==8&&i.data(p,w,e)}var k=document,i=a.DOM,d=k.addEventListener?function(p,e,b,c){p.addEventListener&&p.addEventListener(e,b,!!c)}:function(p,e,
b){p.attachEvent&&p.attachEvent("on"+e,b)},u=k.removeEventListener?function(p,e,b,c){p.removeEventListener&&p.removeEventListener(e,b,!!c)}:function(p,e,b){p.detachEvent&&p.detachEvent("on"+e,b)},w="ksEventTargetId",j=" ",q=a.now(),v={},f={EVENT_GUID:w,special:{},add:function(p,e,b,c){if(!t("add",p,e,b,c)){var g=l(p),m,o,s,y,n;if(!(g===-1||!e||!a.isFunction(b))){if(!g){h(p,g=q++);v[g]={target:p,events:{}}}o=v[g].events;if(!o[e]){m=((g=!p.isCustomEventTarget)||p._supportSpecialEvent)&&f.special[e]||
{};s=function(x,z){if(!x||!x.fixed)x=new a.EventObject(p,x,e);if(a.isPlainObject(z)){var A=x.type;a.mix(x,z);x.type=A}m.setup&&m.setup(x);return(m.handle||f._handle)(p,x)};o[e]={handle:s,listeners:[]};y=m.fix||e;n=m.capture;m.init&&m.init.apply(null,a.makeArray(arguments));g&&m.fix!==false&&d(p,y,s,n)}o[e].listeners.push({fn:b,scope:c||p})}}},__getListeners:function(p,e){var b,c=[];if(b=(f.__getEvents(p)||{})[e])c=b.listeners;return c},__getEvents:function(p){var e=l(p),b;if(e!==-1)if(e&&(b=v[e]))if(b.target===
p)return b.events||{}},remove:function(p,e,b,c){if(!t("remove",p,e,b,c)){var g=f.__getEvents(p),m=l(p),o,s,y,n,x,z,A=(!p.isCustomEventTarget||p._supportSpecialEvent)&&f.special[e]||{};if(g!==undefined){c=c||p;if(o=g[e]){s=o.listeners;y=s.length;if(a.isFunction(b)&&y){x=n=0;for(z=[];n<y;++n)if(b!==s[n].fn||c!==s[n].scope)z[x++]=s[n];o.listeners=z;y=z.length}if(b===r||y===0){if(!p.isCustomEventTarget){A=f.special[e]||{};if(A.fix!==false)u(p,A.fix||e,o.handle)}delete g[e]}}A.destroy&&A.destroy.apply(null,
a.makeArray(arguments));if(e===r||a.isEmptyObject(g)){for(e in g)f.remove(p,e);delete v[m];i.removeData(p,w)}}}},_handle:function(p,e){var b=f.__getListeners(p,e.type);b=b.slice(0);for(var c,g=0,m=b.length;g<m;++g){c=b[g];c=c.fn.call(c.scope,e);if(c!==r){e.result=c;c===false&&e.halt()}if(e.isImmediatePropagationStopped)break}return c},_getCache:function(p){return v[p]},__getID:l,_simpleAdd:d,_simpleRemove:u};f.on=f.add;a.Event=f});
KISSY.add("event-object",function(a,r){function t(k,i,d){this.currentTarget=k;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=d;this.target=k}this.currentTarget=k;this.fixed=true}var l=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(t,{_fix:function(){var k=this.originalEvent,i=h.length,d,u=this.currentTarget;for(u=u.nodeType===9?u:u.ownerDocument||l;i;){d=h[--i];this[d]=k[d]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===r&&this.clientX!==r){k=u.documentElement;i=u.body;this.pageX=this.clientX+(k&&k.scrollLeft||i&&i.scrollLeft||
0)-(k&&k.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||i&&i.scrollTop||0)-(k&&k.clientTop||i&&i.clientTop||0)}if(this.which===r)this.which=this.charCode!==r?this.charCode:this.keyCode;if(this.metaKey===r)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==r)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=t});
KISSY.add("event-target",function(a,r){var t=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(l,h){var k=a.DOM.data(this,t.EVENT_GUID)||-1;if((k=((t._getCache(k)||{}).events||{})[l])&&a.isFunction(k.handle))return k.handle(r,h)},on:function(l,h,k){t.add(this,l,h,k);return this},detach:function(l,h,k){t.remove(this,l,h,k);return this}}});
KISSY.add("event-mouseenter",function(a){var r=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){r.special[t.name]={fix:t.fix,setup:function(l){l.type=t.name},handle:function(l,h){if(a.DOM._isKSNode(l))l=l[0];var k=h.relatedTarget;try{for(;k&&k!==l;)k=k.parentNode;k!==l&&r._handle(l,h)}catch(i){}}}})});
KISSY.add("event-focusin",function(a){var r=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){r.special[t.name]={fix:t.fix,capture:true,setup:function(l){l.type=t.name}}})});
KISSY.add("event-hashchange",function(a){var r=a.Event;if((document.documentMode||a.UA.ie)<8){var t,l=function(){function k(){var j=a.trim(u.contentWindow.document.body.innerHTML);if(j!=(w.hash||"#"))w.hash=j;for(j=0;j<h.length;j++)r._handle(h[j],{type:"hashchange"})}function i(j){j="<html><body>"+j+"</body></html>";var q=u.contentWindow.document;try{q.open();q.write(j);q.close();return true}catch(v){return false}}function d(){t=setTimeout(function(){var j=a.trim(u.contentWindow.document.body.innerHTML),
q=w.hash||"#";j!=q&&i(q);d()},500)}var u=a.DOM.create("<iframe class='ks-hashchange-history-iframe'style='position:absolute;left:-9999px;top:-9999px;'>");a.DOM.prepend(u,document.body);var w=window.location;r.add(u,"load",function(){r.remove(u,"load");i(w.hash||"#");r.add(u,"load",k);d()});l=d},h=[];r.special.hashchange={fix:false,init:function(k){a.indexOf(k,k)==-1&&h.push(k);t||l()},destroy:function(k,i){if(!r.__getEvents(k)[i]){var d=a.indexOf(k,h);d>=0&&h.splice(d,1)}if(h.length==0){clearTimeout(t);
t=null}}}}});KISSY.add("node",function(a){function r(l,h,k){if(!(this instanceof r))return new r(l,h,k);if(l){if(a.isString(l)){l=t.create(l,h,k);if(l.nodeType===11)return new a.NodeList(l.childNodes)}else if(l instanceof r)return l;else l=l;this[0]=l}else this.length=0}var t=a.DOM;r.TYPE="-ks-Node";a.augment(r,{length:1,getDOMNode:function(){return this[0]},nodeType:r.TYPE});a.one=function(l,h){var k=a.get(l,h);return k?new r(k):null};a.Node=r});
KISSY.add("nodelist",function(a){function r(h){if(!(this instanceof r))return new r(h);t.push.apply(this,a.makeArray(h)||[])}var t=Array.prototype,l=a.DOM._isElementNode;a.mix(r.prototype,{length:0,item:function(h){var k=null,i,d;if(l(h)){i=0;for(d=this.length;i<d;i++)if(h===this[i]){h=i;break}}if(l(this[h]))k=new a.Node(this[h]);return k},getDOMNodes:function(){return t.slice.call(this)},each:function(h,k){var i=this.length,d=0,u;for(u=new a.Node(this[0]);d<i&&h.call(k||u,u,d,this)!==false;u=new a.Node(this[++d]));
return this}});a.all=function(h,k){return new r(a.query(h,k,true))};a.NodeList=r});
KISSY.add("node-attach",function(a,r){function t(s,y,n,x){s=[this[s?c:b]()].concat(a.makeArray(y));if(y[n]===r)return x.apply(d,s);else{x.apply(d,s);return this}}function l(s,y){a.each(s,function(n){a.each([p,e],function(x,z){x[n]=function(A){switch(y){case g:return function(){return t.call(this,z,arguments,1,A)};case m:return function(){return t.call(this,z,arguments,0,A)};case o:return function(){var B=this[z?c:b]();return(B=A.apply(d,[B].concat(a.makeArray(arguments))))?new (a[a.isArray(B)?"NodeList":
"Node"])(B):null};default:return function(){var B=this[z?c:b]();B=A.apply(d,[B].concat(a.makeArray(arguments)));return B===r?this:B}}}(d[n])})})}function h(s,y,n){s&&a.each(this,function(x){var z;if(y||a.isString(s))z=d.create(s);else{if(w(s,1)||w(s,3))z=s;if(j(s))z=s[0]}d[n](z,x)});return this}function k(s,y){if((s=a.get(s))&&s.appendChild)a.each(this,function(n){d[y](n,s)});return this}function i(s,y){s.__wrap=s.__wrap||[];s.__wrap.push(y)}var d=a.DOM,u=a.Event,w=d._nodeTypeIs,j=d._isKSNode,q=a.EventTarget,
v=a.Node,f=a.NodeList,p=v.prototype,e=f.prototype,b="getDOMNode",c=b+"s",g=1,m=2,o=4;a.mix(p,{one:function(s){return a.one(s,this[0])},all:function(s){return a.all(s,this[0])}});l(["data","removeData"],g);l(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);l(["attr","removeAttr"],g);l(["val","text"],m);l(["css"],g);l(["width","height"],m);l(["offset"],m);l(["scrollIntoView"]);l(["parent","next","prev","siblings","children"],o);l(["contains"]);l(["html"],m);l(["remove"]);a.each(["insertBefore",
"insertAfter"],function(s){p[s]=function(y){d[s].call(d,this[0],y);return this}});a.each([p,e],function(s,y){a.each(["append","prepend"],function(n){s[n]=function(x){return h.call(this,x,y,n)};s[n+"To"]=function(x){return k.call(this,x,n)}})});a.augment(v,q,{fire:null,on:function(s,y,n){function x(A){var B=a.makeArray(arguments);B.shift();A.target=new v(A.target);B.unshift(A);return y.apply(n||z,B)}var z=this;u.add(this[0],s,x,n);i(y,x);return this},detach:function(s,y,n){if(a.isFunction(y)){y=y.__wrap||
[];for(var x=0;x<y.length;x++)u.remove(this[0],s,y[x],n)}else u.remove(this[0],s,y,n);return this}});a.augment(f,q,{fire:null});p._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(s,y){e[y]=function(n,x,z){for(var A=0;A<this.length;A++)this.item(A).on(n,x,z)}})});if(!this.JSON)this.JSON={};
(function(){function a(w){return w<10?"0"+w:w}function r(w){h.lastIndex=0;return h.test(w)?'"'+w.replace(h,function(j){var q=d[j];return typeof q==="string"?q:"\\u"+("0000"+j.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function t(w,j){var q,v,f,p,e=k,b,c=j[w];if(c&&typeof c==="object"&&typeof c.toJSON==="function")c=c.toJSON(w);if(typeof u==="function")c=u.call(j,w,c);switch(typeof c){case "string":return r(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";k+=i;b=[];if(Object.prototype.toString.apply(c)==="[object Array]"){p=c.length;for(q=0;q<p;q+=1)b[q]=t(q,c)||"null";f=b.length===0?"[]":k?"[\n"+k+b.join(",\n"+k)+"\n"+e+"]":"["+b.join(",")+"]";k=e;return f}if(u&&typeof u==="object"){p=u.length;for(q=0;q<p;q+=1){v=u[q];if(typeof v==="string")if(f=t(v,c))b.push(r(v)+(k?": ":":")+f)}}else for(v in c)if(Object.hasOwnProperty.call(c,v))if(f=t(v,c))b.push(r(v)+(k?": ":":")+f);f=b.length===0?"{}":k?"{\n"+k+b.join(",\n"+k)+
"\n"+e+"}":"{"+b.join(",")+"}";k=e;return f}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,i,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=function(w,j,q){var v;i=k="";if(typeof q==="number")for(v=0;v<q;v+=1)i+=" ";else if(typeof q==="string")i=q;if((u=j)&&typeof j!=="function"&&(typeof j!=="object"||typeof j.length!=="number"))throw Error("JSON.stringify");return t("",{"":w})};
if(typeof JSON.parse!=="function")JSON.parse=function(w,j){function q(f,p){var e,b,c=f[p];if(c&&typeof c==="object")for(e in c)if(Object.hasOwnProperty.call(c,e)){b=q(c,e);if(b!==undefined)c[e]=b;else delete c[e]}return j.call(f,p,c)}var v;w=String(w);l.lastIndex=0;if(l.test(w))w=w.replace(l,function(f){return"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){v=eval("("+w+")");return typeof j==="function"?q({"":v},""):v}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var r=window.JSON;a.JSON={parse:function(t){if(t==null||t==="")return null;return r.parse(t)},stringify:r.stringify}});
KISSY.add("ajax",function(a,r){function t(n){n=a.merge(y,n);if(n.url){if(n.data&&!a.isString(n.data))n.data=a.param(n.data);n.context=n.context||n;var x,z=c,A,B=n.type.toUpperCase();if(n.dataType===q){x=n.jsonpCallback||q+a.now();n.url=n.url+(n.url.indexOf("?")===-1?"?":"&")+(n.jsonp+"="+x);n.dataType=v;var E=k[x];k[x]=function(G){if(a.isFunction(E))E(G);else{k[x]=r;try{delete k[x]}catch(F){}}l([c,g],G,z,C,n)}}if(n.data&&B===d)n.url=n.url+(n.url.indexOf("?")===-1?"?":"&")+n.data;if(n.dataType===v){h(p,
n);B=a.getScript(n.url,x?null:function(){l([c,g],f,z,C,n)});h(e,n);return B}var D=false,C=n.xhr();h(p,n);C.open(B,n.url,n.async);try{if(n.data||n.contentType)C.setRequestHeader(w,n.contentType);C.setRequestHeader("Accept",n.dataType&&n.accepts[n.dataType]?n.accepts[n.dataType]+", */*; q=0.01":n.accepts._default)}catch(K){}C.onreadystatechange=function(G){if(!C||C.readyState===0||G==="abort"){D||l(g,null,m,C,n);D=true;if(C)C.onreadystatechange=i}else if(!D&&C&&(C.readyState===4||G===o)){D=true;C.onreadystatechange=
i;var F;if(G===o)F=o;else{a:{try{F=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(H){}F=false}F=F?c:m}z=F;try{F=C;var I=n.dataType,M=f,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(w)||f;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===s)throw s;}if(a.isString(L))if(I===j||!I&&M.indexOf(j)>=0)L=a.JSON.parse(L);A=L}catch(O){z=s}l([z===c?c:m,g],A,z,C,n);if(G===o){C.abort();h(b,n)}if(n.async)C=null}};h(e,n);try{C.send(B===
u?n.data:null)}catch(J){l([m,g],A,m,C,n)}n.async||h(g,n);return C}}function l(n,x,z,A,B){if(a.isArray(n))a.each(n,function(E){l(E,x,z,A,B)});else{z===n&&B[n]&&B[n].call(B.context,x,z,A);h(n,B)}}function h(n,x){t.fire(n,{ajaxConfig:x})}var k=window,i=function(){},d="GET",u="POST",w="Content-Type",j="json",q=j+"p",v="script",f="",p="start",e="send",b="stop",c="success",g="complete",m="error",o="timeout",s="parsererror",y={type:d,url:f,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:k.ActiveXObject?function(){if(k.XmlHttpRequest)try{return new k.XMLHttpRequest}catch(n){}try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(x){}}:function(){return new k.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(t,a.EventTarget);a.mix(t,{get:function(n,x,z,A,B){if(a.isFunction(x)){A=z;z=x}return t({type:B||d,
url:n,data:x,success:function(E,D,C){z&&z.call(this,E,D,C)},dataType:A})},post:function(n,x,z,A){if(a.isFunction(x)){A=z;z=x;x=r}return t.get(n,x,z,A,u)},jsonp:function(n,x,z){if(a.isFunction(x)){z=x;x=null}return t.get(n,x,z,q)}});t.getScript=a.getScript;a.io=a.ajax=t.ajax=t;a.jsonp=t.jsonp;a.IO=t});
KISSY.add("anim-easing",function(a){var r=Math,t=r.PI,l=r.pow,h=r.sin,k=1.70158,i={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(l(2,10*(d-=1))*h((d-0.075)*2*t/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return l(2,-10*d)*h((d-0.075)*2*t/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*l(2,10*(d-=1))*h((d-0.1125)*2*t/0.45);return l(2,-10*(d-=1))*h((d-0.1125)*2*t/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((k+1)*d-k)},backOut:function(d){return(d-=1)*d*((k+1)*d+k)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((k*=1.525)+1)*d-k);return 0.5*((d-=2)*d*(((k*=1.525)+1)*d+k)+2)},bounceIn:function(d){return 1-
i.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return i.bounceIn(d*2)*0.5;return i.bounceOut(d*2-1)*0.5+0.5}};i.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=i});
KISSY.add("anim",function(a,r){function t(b,c,g,m,o,s){if(b=a.get(b)){if(!(this instanceof t))return new t(b,c,g,m,o,s);var y=a.isPlainObject(g);c=c;this.domEl=b;if(a.isPlainObject(c))c=a.param(c,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var n={},x=v.length,z;q.innerHTML='<div style="'+c+'"></div>';for(b=q.firstChild.style;x--;)if(z=b[v[x]])n[v[x]]=k(z);this.props=n;this.targetStyle=c;if(y)y=a.merge(e,g);else{y=a.clone(e);if(g)y.duration=j(g)||1;if(a.isString(m)||
a.isFunction(m))y.easing=m;if(a.isFunction(o))y.complete=o;if(s!==r)y.nativeSupport=s}this.config=y;if(y.nativeSupport&&l()&&a.isString(m=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(m)||(m=w.NativeTimeFunction[m])){y.easing=m;this.transitionName=l()}a.isFunction(o)&&this.on(p,o)}}function l(){var b="transition",c;if(q.style[b]!==r)c=b;else a.each(["Webkit","Moz","O"],function(g){if(q.style[b=g+"Transition"]!==r){c=b;return false}});l=function(){return c};return c}function h(b,c,g){a.UA.ie&&g.indexOf(f)>
-1&&u.css(b,f,c[f].v);b.style.cssText+=";"+g}function k(b){var c=j(b);b=(b+"").replace(/^[-\d.]+/,"");return isNaN(c)?{v:b,u:"",f:d}:{v:c,u:b,f:i}}function i(b,c,g){return(b+(c-b)*g).toFixed(3)}function d(b,c,g){for(var m=2,o,s,y=[],n=[];o=3,s=arguments[m-1],m--;)if(s.substr(0,4)==="rgb(")for(s=s.match(/\d+/g);o--;)y.push(~~s[o]);else if(s.substr(0,1)==="#"){if(s.length===4)s="#"+s.substr(1,1)+s.substr(1,1)+s.substr(2,1)+s.substr(2,1)+s.substr(3,1)+s.substr(3,1);for(;o--;)y.push(parseInt(s.substr(1+
o*2,2),16))}else return c;for(;o--;){m=~~(y[o+3]+(y[o]-y[o+3])*g);n.push(m<0?0:m>255?255:m)}return"rgb("+n.join(",")+")"}var u=a.DOM,w=a.Easing,j=parseFloat,q=u.create("<div>"),v="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
f="opacity",p="complete",e={duration:1,easing:"easeNone",nativeSupport:true};a.augment(t,a.EventTarget,{run:function(){var b=this,c=b.config,g=b.domEl,m,o,s,y,n=b.props,x={},z;for(z in n)x[z]=k(u.css(g,z));if(b.fire("start")!==false){b.stop();if(b.transitionName)b._nativeRun();else{m=c.duration*1E3;s=a.now();y=s+m;o=c.easing;if(a.isString(o))o=w[o]||w.easeNone;b.timer=a.later(c=function(){var A=a.now(),B=A>y?1:(A-s)/m,E,D,C;for(z in n){E=x[z];D=n[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;u.css(g,z,
D.f(E.v,D.v,o(B))+D.u)}if(b.fire("step")===false||(C=A>y)){b.stop();C&&b.fire(p)}},13,true);c()}return b}},_nativeRun:function(){var b=this,c=b.config,g=b.domEl,m=b.props,o=c.duration*1E3;c=c.easing;var s=b.transitionName,y={};y[s+"Property"]="all";y[s+"Duration"]=o+"ms";y[s+"TimingFunction"]=c;u.css(g,y);a.later(function(){h(g,m,b.targetStyle)},0);a.later(function(){b.stop(true)},o)},stop:function(b){if(this.transitionName)this._nativeStop(b);else{if(this.timer){this.timer.cancel();this.timer=r}if(b){h(this.domEl,
this.props,this.targetStyle);this.fire(p)}}return this},_nativeStop:function(b){var c=this.domEl,g=this.transitionName,m=this.props,o;if(b){u.css(c,g+"Property","none");this.fire(p)}else{for(o in m)u.css(c,o,u._getComputedStyle(c,o));u.css(c,g+"Property","none")}}});t.supportTransition=function(){return!!l()};a.Anim=t});
KISSY.add("anim-node-plugin",function(a,r){function t(f,p,e,b,c){if(p==="toggle"){c=l.css(f,k)===i?1:0;p="show"}if(c)l.css(f,k,l.data(f,k)||"");var g={},m={};a.each(v[p],function(o){if(o===d){g[d]=l.css(f,d);l.css(f,d,u)}else if(o===w){g[w]=l.css(f,w);m.opacity=c?1:0;c&&l.css(f,w,0)}else if(o===j){g[j]=l.css(f,j);m.height=c?l.css(f,j)||f.naturalHeight:0;c&&l.css(f,j,0)}else if(o===q){g[q]=l.css(f,q);m.width=c?l.css(f,q)||f.naturalWidth:0;c&&l.css(f,q,0)}});(new a.Anim(f,m,e,"easeOut",function(){if(!c){var o=
f.style,s=o[k];if(s!==i){s&&l.data(f,k,s);o[k]=i}g[j]&&l.css(f,{height:g[j]});g[q]&&l.css(f,{height:g[q]});g[w]&&l.css(f,{height:g[w]});g[d]&&l.css(f,{height:g[d]})}b&&a.isFunction(b)&&b()})).run()}var l=a.DOM,h=a.Anim,k="display",i="none",d="overflow",u="hidden",w="opacity",j="height",q="width",v={show:[d,w,j,q],fade:[w],slide:[d,j]};a.each([a.Node.prototype,a.NodeList.prototype],function(f){f.animate=function(){var p=a.makeArray(arguments);a.each(this,function(e){h.apply(r,[e].concat(p)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(p,e){f[e]=function(b,c){l[e]&&arguments.length===0?l[e](this):a.each(this,function(g){t(g,p[0],b,c,p[1])});return this}})})});
KISSY.add("cookie",function(a){var r=document,t=encodeURIComponent,l=decodeURIComponent;a.Cookie={get:function(h){var k;if(a.isString(h)&&h!=="")if(h=r.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))k=h[1]?l(h[1]):"";return k},set:function(h,k,i,d,u,w){k=t(k);var j=i;if(typeof j==="number"){j=new Date;j.setTime(j.getTime()+i*864E5)}if(j instanceof Date)k+="; expires="+j.toUTCString();if(a.isString(d)&&d!=="")k+="; domain="+d;if(a.isString(u)&&u!=="")k+="; path="+u;if(w)k+="; secure";r.cookie=h+
"="+k},remove:function(h,k,i,d){this.set(h,"",0,k,i,d)}}});
KISSY.add("attribute",function(a,r){function t(){this.__attrs={};this.__attrVals={}}function l(h){h+="";return h.charAt(0).toUpperCase()+h.substring(1)}a.augment(t,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(h,k){this.__attrs[h]=a.clone(k||{});return this},hasAttr:function(h){return h&&this.__attrs.hasOwnProperty(h)},removeAttr:function(h){if(this.hasAttr(h)){delete this.__attrs[h];delete this.__attrVals[h]}return this},set:function(h,k){var i=this.get(h);if(i!==k)if(false!==
this.__fireAttrChange("before",h,i,k)){this.__set(h,k);this.__fireAttrChange("after",h,i,this.__attrVals[h]);return this}},__fireAttrChange:function(h,k,i,d){return this.fire(h+l(k)+"Change",{attrName:k,prevVal:i,newVal:d})},__set:function(h,k){var i,d=this.__attrs[h];if(d=d&&d.setter)i=d.call(this,k);if(i!==r)k=i;this.__attrVals[h]=k},get:function(h){var k;k=(k=this.__attrs[h])&&k.getter;h=h in this.__attrVals?this.__attrVals[h]:this.__getDefAttrVal(h);if(k)h=k.call(this,h);return h},__getDefAttrVal:function(h){h=
this.__attrs[h];var k;if(h){if(k=h.valueFn){k=k.call(this);if(k!==r)h.value=k;delete h.valueFn}return h.value}},reset:function(h){if(this.hasAttr(h))return this.set(h,this.__getDefAttrVal(h));for(h in this.__attrs)this.hasAttr(h)&&this.reset(h);return this}});a.Attribute=t;t.__capitalFirst=l});
KISSY.add("base",function(a){function r(t){a.Attribute.call(this);for(var l=this.constructor;l;){var h=l.ATTRS;if(h){var k=void 0;for(k in h)h.hasOwnProperty(k)&&!this.hasAttr(k)&&this.addAttr(k,h[k])}l=l.superclass?l.superclass.constructor:null}if(t)for(var i in t)t.hasOwnProperty(i)&&this.__set(i,t[i])}a.augment(r,a.EventTarget,a.Attribute);a.Base=r});KISSY.add("core");
