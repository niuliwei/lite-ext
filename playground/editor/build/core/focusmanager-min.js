KISSY.Editor.add("focusmanager",function(d){function h(){this.iframeFocus=k;g=this}function i(){this.iframeFocus=l;g=m}var e=KISSY,j=e.DOM,f=e.Event,c={},g;e={refreshAll:function(){for(var a in c){var b=c[a];b.document.designMode="off";b.document.designMode="on"}},currentInstance:function(){return g},getInstance:function(a){return c[a]},add:function(a){var b=j._4e_getWin(a.document);f.on(b,"focus",h,a);f.on(b,"blur",i,a)},register:function(a){c[a._UUID]=a},remove:function(a){delete c[a._UUID];var b=
j._4e_getWin(a.document);f.remove(b,"focus",h,a);f.remove(b,"blur",i,a)}};var k=true,l=false,m=null;d.focusManager=e;d.focusManager=e;d.getInstances=function(){return c};d.getInstances=d.getInstances});
