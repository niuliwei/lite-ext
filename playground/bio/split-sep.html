<!doctype html>
<html>
<head>
<meta charset="gbk"/>
<title>分隔</title>
</head>
<body>
<textarea style="width:90%;height:300px;" id='t'></textarea>
<br/>
<label>分隔符：<input id='sep' value=":"/></label>
<label>分隔间隔数：<input id='count' value="5"/></label>
<button id='run'>run</button>
<h1>result:</h1>
<textarea style="width:90%;height:300px;" id='t2'></textarea>
<script>
    function trim(s) {
        return s.replace(/^\s+|\s+$/g, "");
    }
    document.getElementById("t2").value = "";
    document.getElementById("run").onclick = function() {
        var v = document.getElementById("t").value,sep = document.getElementById("sep").value
                ,count = document.getElementById("count").value;
        v = v.split(/\n/);
        var ls = [],total = 0,i2 = 0;
        document.getElementById("t2").value = "";
        for (var i = 0; i < v.length; i++) {
            var c = 0,l = trim(v[i]);

            if (!l) continue;

            l = l.replace(new RegExp("(.{" + count + "," + count + "})", "g"), "$1" + sep);
            ls.push(l);
        }
        i = 1;

        document.getElementById("t2").value = ls.join("\n");

    };
</script>
</body>
</html>