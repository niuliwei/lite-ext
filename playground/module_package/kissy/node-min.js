/*
Copyright 2011, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("node/attach",function(b,f,k,i,d,l){function o(a,c,g,h){a=[this[a?x:v]()].concat(b.makeArray(c));if(c[g]===l&&(g!=1||b.isString(c[0])))return h.apply(f,a);h.apply(f,a);return this}function e(a,c){b.each(a,function(g){b.each([t,y],function(h,m){h[g]=function(j){switch(c){case w:return function(){return o.call(this,m,arguments,1,j)};case u:return function(){return o.call(this,m,arguments,0,j)};case z:return function(){var n=this[m?x:v]();return(n=j.apply(f,[n].concat(b.makeArray(arguments))))?
new (b.isArray(n)?d:i)(n):null};default:return function(){var n=this[m?x:v]();n=j.apply(f,[n].concat(b.makeArray(arguments)));return n===l?this:n}}}(f[g])})})}function q(a,c,g){a&&b.each(this,function(h){var m;if(c||b.isString(a))m=f.create(a);else{if(s(a,1)||s(a,3))m=a;if(B(a))m=a[0]}f[g](m,h)});return this}function p(a,c){if((a=f.get(a))&&a.appendChild)b.each(this,function(g){f[c](g,a)});return this}function r(a,c){a.__wrap=a.__wrap||[];a.__wrap.push(c)}var s=f._nodeTypeIs,B=f._isKSNode,A=b.require("event/target"),
t=i.prototype,y=d.prototype,v="getDOMNode",x=v+"s",w=1,u=2,z=4;b.mix(t,{one:function(a){return i.one(a,this[0])},all:function(a){return d.all(a,this[0])}});e(["data","removeData"],w);e(["hasClass","addClass","removeClass","replaceClass","toggleClass"],l);e(["attr","removeAttr"],w);e(["val","text"],u);e(["css"],w);e(["width","height"],u);e(["offset"],u);e(["scrollIntoView"],l);e(["parent","next","prev","siblings","children"],z);e(["contains"],l);e(["html","unselectable"],u);e(["remove"],l);b.each(["insertBefore",
"insertAfter"],function(a){t[a]=function(c){f[a].call(f,this[0],c);return this}});b.each([t,y],function(a,c){b.each(["append","prepend"],function(g){a[g]=function(h){return q.call(this,h,c,g)};a[g+"To"]=function(h){return p.call(this,h,g)}})});b.augment(i,A,{fire:null,on:function(a,c,g){function h(j){var n=b.makeArray(arguments);n.shift();j.target=new i(j.target);if(j.relatedTarget)j.relatedTarget=new i(j.relatedTarget);n.unshift(j);return c.apply(g||m,n)}var m=this;k.add(this[0],a,h,g);r(c,h);return this},
detach:function(a,c,g){if(b.isFunction(c)){c=c.__wrap||[];for(var h=0;h<c.length;h++)k.remove(this[0],a,c[h],g)}else k.remove(this[0],a,c,g);return this}});b.augment(d,A,{fire:null});t._supportSpecialEvent=true;b.each({on:"add",detach:"remove"},function(a,c){y[c]=function(g,h,m){for(var j=0;j<this.length;j++)this.item(j).on(g,h,m)}})},{requires:["dom","event","node/node","node/nodelist"]});
KISSY.add("node/node",function(b,f,k){function i(d,l,o){if(!(this instanceof i))return new i(d,l,o);if(!d){this.length=0;return k}if(b.isString(d)){d=f.create(d,l,o);if(d.nodeType===11)return new (b.require("node/nodelist"))(d.childNodes)}else if(d instanceof i)return d;else d=d;this[0]=d;return k}i.TYPE="-ks-Node";b.augment(i,{length:1,getDOMNode:function(){return this[0]},nodeType:i.TYPE});i.one=function(d,l){var o=f.get(d,l);return o?new i(o,k,k):null};return i},{requires:["dom"]});
KISSY.add("node/nodelist",function(b,f,k,i){function d(e){if(!(this instanceof d))return new d(e);l.push.apply(this,b.makeArray(e)||[]);return i}var l=Array.prototype,o=f._isElementNode;b.mix(d.prototype,{length:0,item:function(e){var q=null,p,r;if(o(e)){p=0;for(r=this.length;p<r;p++)if(e===this[p]){e=p;break}}if(o(this[e]))q=new k(this[e]);return q},getDOMNodes:function(){return l.slice.call(this)},each:function(e,q){var p=this.length,r=0,s;for(s=new k(this[0]);r<p&&e.call(q||s,s,r,this)!==false;s=
new k(this[++r]));return this}});d.all=function(e,q){return new d(f.query(e,q,true))};return d},{requires:["dom","node/node"]});KISSY.add("node",function(b,f,k){f.List=k;return f},{requires:["node/node","node/nodelist","node/attach"]});
