/*
Copyright 2011, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(j,a,o,g){var x=document.documentElement,A=!x.hasAttribute,l=x.textContent!==g?"textContent":"innerText",i=a._isElementNode,m=/^(?:href|src|style)/,p=/^(?:href|src|colspan|rowspan)/,k=/\r/g,r=/^(?:radio|checkbox)/,s={readonly:"readOnly"},w={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};A&&j.mix(s,{"for":"htmlFor","class":"className"});var y={tabindex:{getter:function(q){return q.tabIndex},setter:function(q,d){if(isNaN(parseInt(d))){q.removeAttribute("tabindex");
q.removeAttribute("tabIndex")}else q.tabIndex=d}},style:{getter:function(q){return q.style.cssText},setter:function(q,d){q.style.cssText=d}},checked:{setter:function(q,d){q.checked=!!d}}};j.mix(a,{attr:function(q,d,b,c){if(j.isPlainObject(d)){c=b;for(var f in d)a.attr(q,f,d[f],c)}else if(d=j.trim(d)){d=d.toLowerCase();if(c&&w[d])return a[d](q,b);d=s[d]||d;var e=y[d];if(b===g){q=a.get(q);if(!i(q))return g;if(e&&e.getter)return e.getter(q);var n;m.test(d)||(n=q[d]);if(n===g)n=q.getAttribute(d);if(A)if(p.test(d))n=
q.getAttribute(d,2);return n===null?g:n}j.each(a.query(q),function(v){if(i(v))e&&e.setter?e.setter(v,b):v.setAttribute(d,""+b)})}},removeAttr:function(q,d){d=d.toLowerCase();j.each(a.query(q),function(b){if(i(b)){a.attr(b,d,"");b.removeAttribute(d)}})},hasAttr:A?function(q,d){d=d.toLowerCase();var b=a.get(q).getAttributeNode(d);return!!(b&&b.specified)}:function(q,d){d=d.toLowerCase();return a.get(q).hasAttribute(d)},val:function(q,d){if(d===g){var b=a.get(q);if(!i(b))return g;if(b&&b.nodeName.toUpperCase()===
"option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var c=b.selectedIndex,f=b.options;if(c<0)return null;else if(b.type==="select-one")return a.val(f[c]);b=[];for(var e=0,n=f.length;e<n;++e)f[e].selected&&b.push(a.val(f[e]));return b}if(o.webkit&&r.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(k,"")}j.each(a.query(q),function(v){if(v&&v.nodeName.toUpperCase()==="select".toUpperCase()){if(j.isNumber(d))d+=
"";var h=j.makeArray(d),t=v.options,u;e=0;for(n=t.length;e<n;++e){u=t[e];u.selected=j.inArray(a.val(u),h)}if(!h.length)v.selectedIndex=-1}else if(i(v))v.value=d})},text:function(q,d){if(d===g){var b=a.get(q);if(i(b))return b[l]||"";else if(a._nodeTypeIs(b,3))return b.nodeValue}else j.each(a.query(q),function(c){if(i(c))c[l]=d;else if(a._nodeTypeIs(c,3))c.nodeValue=d})}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/base",function(j,a){function o(g,x){return g&&g.nodeType===x}return{_isElementNode:function(g){return o(g,1)},_isKSNode:function(g){var x=j.require("node/node");return x&&o(g,x.TYPE)},_getWin:function(g){return g&&"scrollTo"in g&&g.document?g:o(g,9)?g.defaultView||g.parentWindow:g===a?window:false},_nodeTypeIs:o}});
KISSY.add("dom/class",function(j,a,o){function g(l,i,m,p){if(!(i=j.trim(i)))return p?false:o;l=a.query(l);var k=0,r=l.length;i=i.split(x);for(var s;k<r;k++){s=l[k];if(a._isElementNode(s)){s=m(s,i,i.length);if(s!==o)return s}}if(p)return false;return o}var x=/[\.\s]\s*\.?/,A=/[\n\t]/g;j.mix(a,{hasClass:function(l,i){return g(l,i,function(m,p,k){if(m=m.className){m=" "+m+" ";for(var r=0,s=true;r<k;r++)if(m.indexOf(" "+p[r]+" ")<0){s=false;break}if(s)return true}},true)},addClass:function(l,i){g(l,i,
function(m,p,k){var r=m.className;if(r){var s=" "+r+" ";r=r;for(var w=0;w<k;w++)if(s.indexOf(" "+p[w]+" ")<0)r+=" "+p[w];m.className=j.trim(r)}else m.className=i},o)},removeClass:function(l,i){g(l,i,function(m,p,k){var r=m.className;if(r)if(k){r=(" "+r+" ").replace(A," ");for(var s=0,w;s<k;s++)for(w=" "+p[s]+" ";r.indexOf(w)>=0;)r=r.replace(w," ");m.className=j.trim(r)}else m.className=""},o)},replaceClass:function(l,i,m){a.removeClass(l,i);a.addClass(l,m)},toggleClass:function(l,i,m){var p=j.isBoolean(m),
k;g(l,i,function(r,s,w){for(var y=0,q;y<w;y++){q=s[y];k=p?!m:a.hasClass(r,q);a[k?"removeClass":"addClass"](r,q)}},o)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(j,a,o,g){function x(h){var t=h.cloneNode(true);if(o.ie<8)t.innerHTML=h.innerHTML;return t}function A(h,t,u,z){if(u){var C=j.guid("ks-tmp-"),F=RegExp(y);t+='<span id="'+C+'"></span>';j.available(C,function(){var B=a.get("head"),D,H,G,I,K,E;for(F.lastIndex=0;D=F.exec(t);)if((G=(H=D[1])?H.match(d):false)&&G[2]){D=i.createElement("script");D.src=G[2];if((I=H.match(b))&&I[2])D.charset=I[2];D.async=true;B.appendChild(D)}else if((E=D[2])&&E.length>0)j.globalEval(E);(K=i.getElementById(C))&&
a.remove(K);j.isFunction(z)&&z()});l(h,t)}else{l(h,t);j.isFunction(z)&&z()}}function l(h,t){t=(t+"").replace(y,"");try{h.innerHTML=t}catch(u){for(;h.firstChild;)h.removeChild(h.firstChild);t&&h.appendChild(a.create(t))}}var i=document,m=o.ie,p=a._nodeTypeIs,k=a._isElementNode,r=a._isKSNode,s=i.createElement("div"),w=/<(\w+)/,y=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,d=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;j.mix(a,{create:function(h,
t,u){if(p(h,1)||p(h,3))return x(h);if(r(h))return x(h[0]);if(!(h=j.trim(h)))return null;var z=null;z=a._creators;var C,F="div",B;if(C=q.exec(h))z=(u||i).createElement(C[1]);else{if((C=w.exec(h))&&(B=C[1])&&j.isFunction(z[B=B.toLowerCase()]))F=B;h=z[F](h,u).childNodes;if(h.length===1)u=h[0].parentNode.removeChild(h[0]);else{h=h;B=u||i;u=null;if(h&&(h.push||h.item)&&h[0]){B=B||h[0].ownerDocument;u=B.createDocumentFragment();if(h.item)h=j.makeArray(h);B=0;for(z=h.length;B<z;B++)u.appendChild(h[B])}u=
u}z=u}u=z;k(u)&&j.isPlainObject(t)&&a.attr(u,t,true);return u},_creators:{div:function(h,t){var u=t?t.createElement("div"):s;u.innerHTML=h;return u}},html:function(h,t,u,z){if(t===g){h=a.get(h);if(k(h))return h.innerHTML}else j.each(a.query(h),function(C){k(C)&&A(C,t,u,z)})},remove:function(h){j.each(a.query(h),function(t){k(t)&&t.parentNode&&t.parentNode.removeChild(t)})}});if(m||o.gecko||o.webkit){var c=a._creators,f=a.create,e=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,n={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},v;for(v in n)(function(h){c[v]=function(t,u){return f("<"+h+">"+t+"</"+h+">",null,u)}})(n[v]);if(m){c.script=function(h,t){var u=t?t.createElement("div"):s;u.innerHTML="-"+h;u.removeChild(u.firstChild);return u};if(m<8)c.tbody=function(h,t){var u=f("<table>"+h+"</table>",null,t),z=u.children.tags("tbody")[0];u.children.length>1&&z&&!e.test(h)&&z.parentNode.removeChild(z);return u}}j.mix(c,{optgroup:c.option,th:c.td,thead:c.tbody,tfoot:c.tbody,
caption:c.tbody,colgroup:c.tbody})}return a},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(j,a,o){var g=window,x="_ks_data_"+j.now(),A={},l={},i={EMBED:1,OBJECT:1,APPLET:1};j.mix(a,{data:function(m,p,k){if(j.isPlainObject(p))for(var r in p)a.data(m,r,p[r]);else if(k===o){m=a.get(m);var s;if(!(!m||i[m.nodeName])){if(m==g)m=l;s=(r=m&&m.nodeType)?A:m;m=s[r?m[x]:x];if(j.isString(p)&&m)return m[p];return m}}else a.query(m).each(function(w){if(!(!w||i[w.nodeName])){if(w==g)w=l;var y=A,q;if(w&&w.nodeType){if(!(q=w[x]))q=w[x]=j.guid()}else{q=x;y=w}if(p&&k!==o){y[q]||
(y[q]={});y[q][p]=k}}})},removeData:function(m,p){a.query(m).each(function(k){if(k){if(k==g)k=l;var r,s=A,w,y=k&&k.nodeType;if(y)r=k[x];else{s=k;r=x}if(r){w=s[r];if(p){if(w){delete w[p];j.isEmptyObject(w)&&a.removeData(k)}}else{if(y)k.removeAttribute&&k.removeAttribute(x);else try{delete k[x]}catch(q){}y&&delete s[r]}}}})}});return a},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(j,a){j.mix(a,{insertBefore:function(o,g){if((o=a.get(o))&&(g=a.get(g))&&g.parentNode)g.parentNode.insertBefore(o,g);return o},insertAfter:function(o,g){if((o=a.get(o))&&(g=a.get(g))&&g.parentNode)g.nextSibling?g.parentNode.insertBefore(o,g.nextSibling):g.parentNode.appendChild(o);return o},append:function(o,g){if((o=a.get(o))&&(g=a.get(g)))g.appendChild&&g.appendChild(o)},prepend:function(o,g){if((o=a.get(o))&&(g=a.get(g)))g.firstChild?a.insertBefore(o,g.firstChild):
g.appendChild(o)}});return a},{requires:["dom/base"]});
KISSY.add("dom/offset",function(j,a,o,g){function x(f){var e=0,n=0,v=p(f[w]);if(f[c]){f=f[c]();e=f[y];n=f[q];if(o.mobile!=="apple"){e+=a[d](v);n+=a[b](v)}}return{left:e,top:n}}var A=window,l=document,i=a._isElementNode,m=a._nodeTypeIs,p=a._getWin,k=l.compatMode==="CSS1Compat",r=Math.max,s=parseInt,w="ownerDocument",y="left",q="top",d="scrollLeft",b="scrollTop",c="getBoundingClientRect";j.mix(a,{offset:function(f,e){if(!(f=a.get(f))||!f[w])return null;if(e===g)return x(f);var n=f;if(a.css(n,"position")===
"static")n.style.position="relative";var v=x(n),h={},t,u;for(u in e){t=s(a.css(n,u),10)||0;h[u]=t+e[u]-v[u]}a.css(n,h)},scrollIntoView:function(f,e,n,v){if((f=a.get(f))&&f[w]){v=v===g?true:!!v;n=n===g?true:!!n;if(!e||e===A)return f.scrollIntoView(n);e=a.get(e);if(m(e,9))e=p(e);var h=e&&"scrollTo"in e&&e.document,t=a.offset(f),u=h?{left:a.scrollLeft(e),top:a.scrollTop(e)}:a.offset(e),z={left:t[y]-u[y],top:t[q]-u[q]};t=h?a.viewportHeight(e):e.clientHeight;u=h?a.viewportWidth(e):e.clientWidth;var C=
a[d](e),F=a[b](e),B=C+u,D=F+t,H=f.offsetHeight;f=f.offsetWidth;var G=z.left+C-(s(a.css(e,"borderLeftWidth"))||0);z=z.top+F-(s(a.css(e,"borderTopWidth"))||0);var I=G+f,K=z+H,E,J;if(H>t||z<F||n)E=z;else if(K>D)E=K-t;if(v)if(f>u||G<C||n)J=G;else if(I>B)J=I-u;if(h){if(E!==g||J!==g)e.scrollTo(J,E)}else{if(E!==g)e[b]=E;if(J!==g)e[d]=J}}}});j.each(["Left","Top"],function(f,e){var n="scroll"+f;a[n]=function(v){var h=0,t=p(v),u;if(t&&(u=t.document))h=t[e?"pageYOffset":"pageXOffset"]||u.documentElement[n]||
u.body[n];else if(i(v=a.get(v)))h=v[n];return h}});j.each(["Width","Height"],function(f){a["doc"+f]=function(e){e=e||l;return r(k?e.documentElement["scroll"+f]:e.body["scroll"+f],a["viewport"+f](e))};a["viewport"+f]=function(e){var n="inner"+f;e=p(e);var v=e.document;return n in e?e[n]:k?v.documentElement["client"+f]:v.body["client"+f]}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(j,a,o){function g(d,b){var c,f,e=[],n;f=j.require("sizzle");b=x(b);if(j.isString(d)){d=j.trim(d);if(y.test(d)){if(f=A(d.slice(1),b))e=[f]}else if(c=q.exec(d)){f=c[1];n=c[2];c=c[3];if(b=f?A(f,b):b)if(c)if(!f||d.indexOf(k)!==-1)e=i(c,n,b);else{if((f=A(f,b))&&a.hasClass(f,c))e=[f]}else if(n)e=l(n,b)}else if(f)return f(d,b);else m(d)}else if(d&&(d[s]||d[w]))e=d[s]?[d[s]()]:d[w]();else if(d&&(j.isArray(d)||d&&!d.nodeType&&d.item&&!d.setTimeout))e=d;else if(d)e=[d];if(e&&
!e.nodeType&&e.item&&!e.setTimeout)e=j.makeArray(e);e.each=function(v,h){return j.each(e,v,h)};return e}function x(d){if(d===o)d=p;else if(j.isString(d)&&y.test(d))d=A(d.slice(1),p);else if(d&&d.nodeType!==1&&d.nodeType!==9)d=null;return d}function A(d,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(d)}function l(d,b){return b.getElementsByTagName(d)}function i(d,b,c){c=d=c.getElementsByClassName(d);var f=0,e=0,n=d.length,v;if(b&&b!==r){c=[];for(b=b.toUpperCase();f<n;++f){v=d[f];if(v.tagName===
b)c[e++]=v}}return c}function m(d){j.error("Unsupported selector: "+d)}var p=document,k=" ",r="*",s="getDOMNode",w=s+"s",y=/^#[\w-]+$/,q=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var d=p.createElement("div");d.appendChild(p.createComment(""));if(d.getElementsByTagName(r).length>0)l=function(b,c){var f=c.getElementsByTagName(b);if(b===r){for(var e=[],n=0,v=0,h;h=f[n++];)if(h.nodeType===1)e[v++]=h;f=e}return f}})();p.getElementsByClassName||(i=p.querySelectorAll?function(d,b,c){return c.querySelectorAll((b?
b:"")+"."+d)}:function(d,b,c){b=c.getElementsByTagName(b||r);c=[];var f=0,e=0,n=b.length,v,h;for(d=k+d+k;f<n;++f){v=b[f];if((h=v.className)&&(k+h+k).indexOf(d)>-1)c[e++]=v}return c});j.mix(a,{query:g,get:function(d,b){return g(d,b)[0]||null},filter:function(d,b,c){c=g(d,c);var f=j.require("sizzle"),e,n,v,h=[];if(j.isString(b)&&(e=q.exec(b))&&!e[1]){n=e[2];v=e[3];b=function(t){return!(n&&t.tagName!==n.toUpperCase()||v&&!a.hasClass(t,v))}}if(j.isFunction(b))h=j.filter(c,b);else if(b&&f)h=f._filter(d,
b+"");else m(b);return h},test:function(d,b,c){d=g(d,c);return d.length&&a.filter(d,b,c).length===d.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(j,a,o,g){if(!o.ie)return a;j=document;o=j.documentElement;var x=a._CUSTOM_STYLES,A=/^-?\d+(?:px)?$/i,l=/^-?\d/,i=/^(?:width|height)$/;try{if(o.style.opacity===g&&o.filters)x.opacity={get:function(p){var k=100;try{k=p.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{k=p.filters("alpha").opacity}catch(s){}}return k/100+""},set:function(p,k){var r=p.style,s=(p.currentStyle||0).filter||"";r.zoom=1;if(s)if(s=s.replace(/alpha\(opacity=.+\)/ig,""))s+=", ";
r.filter=s+"alpha(opacity="+k*100+")"}}}catch(m){}if(!(j.defaultView||{}).getComputedStyle&&o.currentStyle)a._getComputedStyle=function(p,k){var r=p.style,s=p.currentStyle[k];if(i.test(k))s=a[k](p)+"px";else if(!A.test(s)&&l.test(s)){var w=r.left,y=p.runtimeStyle.left;p.runtimeStyle.left=p.currentStyle.left;r.left=k==="fontSize"?"1em":s||0;s=r.pixelLeft+"px";r.left=w;p.runtimeStyle.left=y}return s};return a},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(j,a,o,g){function x(b,c){var f=a.get(b),e=c===m?f.offsetWidth:f.offsetHeight;j.each(c===m?["Left","Right"]:["Top","Bottom"],function(n){e-=parseFloat(a._getComputedStyle(f,"padding"+n))||0;e-=parseFloat(a._getComputedStyle(f,"border"+n+"Width"))||0});return e}function A(b,c,f){var e=f;if(f===p&&r.test(c)){e=0;if(j.inArray(a.css(b,"position"),["absolute","fixed"])){f=b[c==="left"?"offsetLeft":"offsetTop"];if(o.ie===8||o.opera)f-=k(a.css(b.offsetParent,"border-"+c+"-width"))||
0;e=f-(k(a.css(b,"margin-"+c))||0)}}return e}var l=document,i=l.documentElement,m="width",p="auto",k=parseInt,r=/^(?:left|top)/,s=/^(?:width|height|top|left|right|bottom|margin|padding)/i,w=/-([a-z])/ig,y=function(b,c){return c.toUpperCase()},q={},d={};j.mix(a,{_CUSTOM_STYLES:q,_getComputedStyle:function(b,c){var f="",e=b.ownerDocument;if(b.style)f=e.defaultView.getComputedStyle(b,null)[c];return f},css:function(b,c,f){if(j.isPlainObject(c))for(var e in c)a.css(b,e,c[e]);else{if(c.indexOf("-")>0)c=
c.replace(w,y);c=q[c]||c;if(f===g){b=a.get(b);e="";if(b&&b.style){e=c.get?c.get(b):b.style[c];if(e===""&&!c.get)e=A(b,c,a._getComputedStyle(b,c))}return e===g?"":e}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&s.test(c))f+="px";(c===m||c==="height")&&parseFloat(f)<0||j.each(a.query(b),function(n){if(n&&n.style){c.set?c.set(n,f):n.style[c]=f;if(f==="")n.style.cssText||n.removeAttribute("style")}})}}},width:function(b,c){if(c===g)return x(b,m);else a.css(b,m,c)},height:function(b,c){if(c===
g)return x(b,"height");else a.css(b,"height",c)},show:function(b){a.query(b).each(function(c){if(c){c.style.display=a.data(c,"display")||"";if(a.css(c,"display")==="none"){var f=c.tagName,e=d[f],n;if(!e){n=l.createElement(f);l.body.appendChild(n);e=a.css(n,"display");a.remove(n);d[f]=e}a.data(c,"display",e);c.style.display=e}}})},hide:function(b){a.query(b).each(function(c){if(c){var f=c.style,e=f.display;if(e!=="none"){e&&a.data(c,"display",e);f.display="none"}}})},toggle:function(b){a.query(b).each(function(c){if(c)c.style.display===
"none"?a.show(c):a.hide(c)})},addStyleSheet:function(b,c){var f;if(c&&(c=c.replace("#","")))f=a.get("#"+c);if(!f){f=a.create("<style>",{id:c});a.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=b;else f.appendChild(l.createTextNode(b))}},unselectable:function(b){a.query(b).each(function(c){if(c)if(o.gecko)c.style.MozUserSelect="none";else if(o.webkit)c.style.KhtmlUserSelect="none";else if(o.ie||o.opera){var f=0,e=c.getElementsByTagName("*");for(c.setAttribute("unselectable","on");c=
e[f++];)switch(c.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:c.setAttribute("unselectable","on")}}})}});if(i.style.cssFloat!==g)q["float"]="cssFloat";else if(i.style.styleFloat!==g)q["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(j,a,o){function g(l,i,m,p){if(!(l=a.get(l)))return null;if(i===o)i=1;var k=null,r,s;if(j.isNumber(i)&&i>=0){if(i===0)return l;r=0;s=i;i=function(){return++r===s}}for(;l=l[m];)if(A(l)&&(!i||a.test(l,i))&&(!p||p(l))){k=l;break}return k}function x(l,i,m){var p=[];var k=l=a.get(l);if(l&&m)k=l.parentNode;if(k){m=0;for(k=k.firstChild;k;k=k.nextSibling)if(A(k)&&k!==l&&(!i||a.test(k,i)))p[m++]=k}return p}var A=a._isElementNode;j.mix(a,{parent:function(l,i){return g(l,i,
"parentNode",function(m){return m.nodeType!=11})},next:function(l,i){return g(l,i,"nextSibling",o)},prev:function(l,i){return g(l,i,"previousSibling",o)},siblings:function(l,i){return x(l,i,true)},children:function(l,i){return x(l,i,o)},contains:function(l,i){var m=false;if((l=a.get(l))&&(i=a.get(i)))if(l.contains){if(i.nodeType===3){i=i.parentNode;if(i===l)return true}if(i)return l.contains(i)}else if(l.compareDocumentPosition)return!!(l.compareDocumentPosition(i)&16);else for(;!m&&(i=i.parentNode);)m=
i==l;return m}});return a},{requires:["dom/base"]});KISSY.add("dom",function(j,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
