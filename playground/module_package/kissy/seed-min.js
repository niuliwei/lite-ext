/*
Copyright 2011, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
(function(f,o,y){var z={mix:function(i,m,p,r){if(!m||!i)return i;if(p===y)p=true;var c,h,l;if(r&&(l=r.length))for(c=0;c<l;c++){h=r[c];if(h in m)if(p||!(h in i))i[h]=m[h]}else for(h in m)if(p||!(h in i))i[h]=m[h];return i}},x=f&&f[o]||{},v=0;f=x.__HOST||(x.__HOST=f||{});o=f[o]=z.mix(x,z,false);o.mix(o,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.7dev",merge:function(){var i={},m,p=arguments.length;for(m=0;m<p;m++)o.mix(i,arguments[m]);return i},augment:function(){var i=
arguments,m=i.length-2,p=i[0],r=i[m],c=i[m+1],h=1;if(!o.isArray(c)){r=c;c=y;m++}if(!o.isBoolean(r)){r=y;m++}for(;h<m;h++)o.mix(p.prototype,i[h].prototype||i[h],r,c);return p},extend:function(i,m,p,r){if(!m||!i)return i;var c=Object.create?function(n,u){return Object.create(n,{constructor:{value:u}})}:function(n,u){function g(){}g.prototype=n;var j=new g;j.constructor=u;return j},h=m.prototype,l;l=c(h,i);i.prototype=o.mix(l,i.prototype);i.superclass=c(h,m);p&&o.mix(l,p);r&&o.mix(i,r);return i},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var i=arguments,m=i.length,p=null,r,c,h,l=i[m-1]===true&&m--;for(r=0;r<m;r++){h=(""+i[r]).split(".");p=l?f:this;for(c=f[h[0]]===p?1:0;c<h.length;++c)p=p[h[c]]=p[h[c]]||{}}return p},app:function(i,m){var p=o.isString(i),r=p?f[i]||{}:i,c=0,h=o.__APP_INIT_METHODS.length;for(o.mix(r,this,true,o.__APP_MEMBERS);c<h;c++)o[o.__APP_INIT_METHODS[c]].call(r);o.mix(r,o.isFunction(m)?m():m);p&&(f[i]=r);return r},log:function(i,
m,p){if(o.Config.debug){if(p)i=p+": "+i;if(f.console!==y&&console.log)console[m&&console[m]?m:"log"](i)}},error:function(i){if(o.Config.debug)throw i;},guid:function(i){return(i||"")+v++}});o.__init();return o})(this,"KISSY");
(function(f,o){var y=f.__HOST,z=Object.prototype.toString,x=Array.prototype.indexOf,v=Array.prototype.lastIndexOf,i=Array.prototype.filter,m=String.prototype.trim,p=/^\s+|\s+$/g,r={};f.mix(f,{type:function(c){return c==null?String(c):r[z.call(c)]||"object"},isNull:function(c){return c===null},isUndefined:function(c){return c===o},isEmptyObject:function(c){for(var h in c)return false;return true},isPlainObject:function(c){return c&&z.call(c)==="[object Object]"&&"isPrototypeOf"in c},clone:function(c,
h,l){var n=c,u,g,j=l||{};if(c&&((u=f.isArray(c))||f.isPlainObject(c))){if(c["__~ks_cloned"])return j[c["__~ks_cloned"]];c["__~ks_cloned"]=n=f.guid();j[n]=c;if(u)n=h?f.filter(c,h):c.concat();else{n={};for(g in c)if(g!=="__~ks_cloned"&&c.hasOwnProperty(g)&&(!h||h.call(c,c[g],g,c)!==false))n[g]=f.clone(c[g],h,j)}}if(!l){f.each(j,function(q){if(q["__~ks_cloned"])try{delete q["__~ks_cloned"]}catch(t){q["__~ks_cloned"]=o}});j=o}return n},trim:m?function(c){return c==o?"":m.call(c)}:function(c){return c==
o?"":c.toString().replace(p,"")},substitute:function(c,h,l){if(!f.isString(c)||!f.isPlainObject(h))return c;return c.replace(l||/\\?\{([^{}]+)\}/g,function(n,u){if(n.charAt(0)==="\\")return n.slice(1);return h[u]!==o?h[u]:""})},each:function(c,h,l){var n,u=0,g=c.length,j=g===o||f.type(c)==="function";l=l||y;if(j)for(n in c){if(h.call(l,c[n],n,c)===false)break}else for(n=c[0];u<g&&h.call(l,n,u,c)!==false;n=c[++u]);return c},indexOf:x?function(c,h){return x.call(h,c)}:function(c,h){for(var l=0,n=h.length;l<
n;++l)if(h[l]===c)return l;return-1},lastIndexOf:v?function(c,h){return v.call(h,c)}:function(c,h){for(var l=h.length-1;l>=0;l--)if(h[l]===c)break;return l},unique:function(c,h){h&&c.reverse();for(var l=c.slice(),n=0,u,g;n<l.length;){for(g=l[n];(u=f.lastIndexOf(g,l))!==n;)l.splice(u,1);n+=1}h&&l.reverse();return l},inArray:function(c,h){return f.indexOf(c,h)>-1},filter:i?function(c,h,l){return i.call(c,h,l||this)}:function(c,h,l){var n=[];f.each(c,function(u,g,j){if(h.call(l||this,u,g,j))n.push(u)});
return n},now:function(){return(new Date).getTime()}});f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,h){r["[object "+c+"]"]=h=c.toLowerCase();f["is"+c]=function(l){return f.type(l)==h}})})(KISSY);
(function(f,o){function y(g){var j=typeof g;return g===null||j!=="object"&&j!=="function"}function z(g){return Array.prototype.slice.call(g)}var x=f.__HOST,v=x.document,i=v.documentElement,m=encodeURIComponent("[]"),p=false,r=[],c=false,h=/^#?([\w-]+)$/,l=/^(\w+)\[\]$/,n=/\S/;f.mix(f,{isWindow:function(g){return f.type(g)==="object"&&"setInterval"in g},makeArray:function(g){if(g===null||g===o)return[];if(f.isArray(g))return g;if(typeof g.length!=="number"||f.isString(g)||f.isFunction(g))return[g];
return z(g)},param:function(g,j){if(!f.isPlainObject(g))return"";j=j||"&";var q=[],t,a;for(t in g){a=g[t];t=encodeURIComponent(t);if(y(a))q.push(t,"=",encodeURIComponent(a+""),j);else if(f.isArray(a)&&a.length)for(var b=0,d=a.length;b<d;++b)y(a[b])&&q.push(t,m+"=",encodeURIComponent(a[b]+""),j)}q.pop();return q.join("")},unparam:function(g,j){if(typeof g!=="string"||(g=f.trim(g)).length===0)return{};for(var q={},t=g.split(j||"&"),a,b,d,e,k=0,s=t.length;k<s;++k){a=t[k].split("=");b=decodeURIComponent(a[0]);
try{d=decodeURIComponent(a[1]||"")}catch(w){d=a[1]||""}if((e=b.match(l))&&e[1]){q[e[1]]=q[e[1]]||[];q[e[1]].push(d)}else q[b]=d}return q},globalEval:function(g){if(g&&n.test(g)){var j=v.getElementsByTagName("head")[0]||i,q=v.createElement("script");q.text=g;j.insertBefore(q,j.firstChild);j.removeChild(q)}},later:function(g,j,q,t,a){j=j||0;t=t||{};var b=g,d=f.makeArray(a),e;if(f.isString(g))b=t[g];b||f.error("method undefined");g=function(){b.apply(t,d)};e=q?setInterval(g,j):setTimeout(g,j);return{id:e,
interval:q,cancel:function(){this.interval?clearInterval(e):clearTimeout(e)}}},ready:function(g){c||this._bindReady();p?g.call(x,this):r.push(g);return this},_bindReady:function(){var g=this,j=v.documentElement.doScroll,q=j?"onreadystatechange":"DOMContentLoaded",t=function(){g._fireReady()};c=true;if(v.readyState==="complete")return t();if(v.addEventListener){var a=function(){v.removeEventListener(q,a,false);t()};v.addEventListener(q,a,false);x.addEventListener("load",t,false)}else{var b=function(){if(v.readyState===
"complete"){v.detachEvent(q,b);t()}};v.attachEvent(q,b);x.attachEvent("onload",t);var d=false;try{d=x.frameElement==null}catch(e){}if(j&&d){var k=function(){try{j("left");t()}catch(s){setTimeout(k,1)}};k()}}},_fireReady:function(){if(!p){p=true;if(r){for(var g,j=0;g=r[j++];)g.call(x,this);r=null}}},available:function(g,j){if((g=(g+"").match(h)[1])&&f.isFunction(j))var q=1,t=f.later(function(){if(v.getElementById(g)&&(j()||1)||++q>500)t.cancel()},40,true)}});try{z(i.childNodes)}catch(u){z=function(g){for(var j=
[],q=g.length-1;q>=0;q--)j[q]=g[q];return j}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)f.Config.debug=true})(KISSY);
(function(f,o){function y(a){a=a.split("/");for(var b=[],d=0;d<a.length;d++){var e=a[d];if(e!=".")e==".."?b.pop():b.push(e)}return b.join("/")}function z(a,b){if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){var d=c,e;if((e=a.lastIndexOf("/"))!=-1)d=a.substring(0,e+1);return y(d+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?y(b):b}function x(a){return a.replace(/(-min)?\.js[^/]*$/i,c)}function v(a){if(a.charAt(a.length-1)!="/")a+="/";a=f.trim(a);if(!a.match(/^http(s)?:/i)&&a.lastIndexOf("/",
0)!=0)a=j+a;return y(a)}var i=f.__HOST,m=!i.getSelection&&i.ActiveXObject,p=i.document,r=p.getElementsByTagName("head")[0]||p.documentElement,c="",h=2,l=3,n=4,u=f.mix,g=p.createElement("script").readyState?function(a,b){var d=a.onreadystatechange;a.onreadystatechange=function(){var e=a.readyState;if(e==="loaded"||e==="complete"){a.onreadystatechange=null;d&&d();b.call(this)}}}:function(a,b){a.addEventListener("load",b,false)},j=location.href.replace(/[^/]*$/i,c);i={__currentModule:null,__startLoadTime:0,
__startLoadModuleName:null,add:function(a,b,d){var e=this.Env.mods,k;if(f.isString(a)&&!d&&f.isPlainObject(b)){k={};k[a]=b;a=k}if(f.isPlainObject(a)){f.each(a,function(s,w){s.name=w;e[w]&&u(s,e[w],false)});u(e,a)}else if(f.isString(a))this.__registerModule(a,b,d);else if(f.isFunction(a)){d=b;b=a;if(m){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,b,d):f.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,
d)}this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:b,config:d}}return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,d=0;d<a.length;d++){var e=a[d];if(e.readyState=="interactive"){b=e;break}}b||f.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return x(a.substring(this.Config.base.length));b=this.__packages;for(var k in b)if(b.hasOwnProperty(k))if(a.lastIndexOf(b[k].path,0)==
0)return x(a.substring(b[k].path.length));f.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,d){d=d||{};var e=this.Env.mods,k=e[a]||{};u(k,{name:a,status:h});k.fn&&f.error(a+" is defined more than once");k.def=b;u(e[a]=k,d)},packages:function(){var a=f.makeArray(arguments),b;b=this.__packages=this.__packages||{};for(var d=0;d<a.length;d++){var e=a[d];b[e.name]=e;if(e.path)e.path=v(e.path)}},compress:function(a,b){var d=this,e;if(f.isObject(a))f.each(a,function(k,s){d.compress(s,
k)});else{e=d.__compresses=d.__compresses||{};if(b)e[a]=b;else return e[a]||a}},use:function(a,b){a=a.replace(/\s+/g,c).split(",");var d=this,e,k,s=a.length,w;if(d.__isAttached(a)){e=d.__getModules(a);b&&b.apply(d,e)}else{for(k=0;k<s&&(e=a[k]);k++)d.__attachModByName(e,function(){if(!w&&d.__isAttached(a)){w=true;var B=d.__getModules(a);b&&b.apply(d,B)}});return d}},__getModules:function(a){var b=[this];a=a||[];for(var d=0;d<a.length;d++)b.push(this.require(a[d]));return b},require:function(a){return(a=
this.Env.mods[a])&&a.value},__getPackagePath:function(a){var b=this.compress(a.name),d,e=this.__packages||{};if((d=b.indexOf("/"))!=-1)b=b.substring(0,d);if(b=e[b]){d=b.path||j;if(d.charAt(d.length-1)!=="/")d+="/";if(b.charset)a.charset=b.charset;return d}},__attachModByName:function(a,b){var d=this.Env.mods,e=d[a];if(!e){e=this.Config.componentJsName||function(k){return k+"-min.js?t=@TIMESTAMP@"};e={path:f.isFunction(e)?e(this.compress(a)):e,charset:"utf-8"};d[a]=e}e.name=a;e&&e.status===n||this.__attach(e,
b)},__attach:function(a,b){function d(){if(!H&&e.__isAttached(a.requires)){a.status===h&&e.__attachMod(a);if(a.status===n){H=true;b()}}}var e=this,k=e.Env.mods,s=(a.requires||[]).concat(),w=0,B=s.length;for(a.requires=s;w<B;w++){s[w]=z(a.name,s[w]);var A=k[s[w]];A&&A.status===n||e.__attachModByName(s[w],d)}e.__buildPath(a,e.__getPackagePath(a));e.__load(a,function(){if(e.__currentModule){e.__registerModule(a.name,e.__currentModule.def,e.__currentModule.config);e.__currentModule=null}var C=a.requires||
[],G=[];a.requires=C;for(var D=C.length-1;D>=0;D--){C[D]=z(a.name,C[D]);var E=C[D],F=k[E],I=f.inArray(E,s);F&&F.status===n||I||e.__attachModByName(E,d);if(!I&&(!F||F.status<h))G.push(E)}G.length!=0&&G.unshift(a.name);d()});var H=false},__attachMod:function(a){var b=a.def;if(b)a.value=f.isFunction(b)?b.apply(this,this.__getModules(a.requires)):b;a.status=n},__isAttached:function(a){for(var b=this.Env.mods,d,e=(a=f.makeArray(a)).length-1;e>=0;e--){d=b[a[e]]||{};if(d.status!==n)return false}return true},
__load:function(a,b){function d(){k[e]=h;if(a.status!==l){if(a.status!==n)a.status=h;b()}}var e=a.fullpath,k=f.Env._loadQueue,s=k[e];a.status=a.status||0;if(a.status<1&&s)a.status=s.nodeName?1:h;if(a.status<1&&e){a.status=1;if(m){this.__startLoadModuleName=a.name;this.__startLoadTime=Number(+new Date)}s=this.getScript(e,{success:function(){d()},error:function(){a.status=l;k[e]=h},charset:a.charset});k[e]=s}else a.status===1?g(s,d):b()},__buildPath:function(a,b){var d=this.Config;if(!a.fullpath&&a.path)a.fullpath=
(b||d.base)+a.path;if(a.fullpath&&d.debug)a.fullpath=a.fullpath.replace(/-min/ig,c)},getScript:function(a,b,d){var e=/\.css(?:\?|$)/i.test(a),k=p.createElement(e?"link":"script"),s=b,w,B,A;if(f.isPlainObject(s)){b=s.success;w=s.error;B=s.timeout;d=s.charset}if(e){k.href=a;k.rel="stylesheet"}else{k.src=a;k.async=true}if(d)k.charset=d;if(e)f.isFunction(b)&&b.call(k);else g(k,function(){if(A){A.cancel();A=o}f.isFunction(b)&&b.call(k)});if(f.isFunction(w))A=f.later(function(){A=o;w()},(B||this.Config.timeout)*
1E3);r.insertBefore(k,r.firstChild);return k}};u(f,i);var q=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,t=/(seed|kissy)(-min)?\.js/i;f.__initLoader=function(){var a=p.getElementsByTagName("script");a=a[a.length-1];var b=a.src,d=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var e=a[0];d=e.indexOf(d);if(d==-1)b=b.replace(q,"$1");else{b=e.substring(0,d);d=e.substring(d+2,e.length);if(d.match(t))b+=d.replace(q,"$1");else for(d=1;d<a.length;d++){e=a[d];if(e.match(t)){b+=
e.replace(q,"$1");break}}}if(b.lastIndexOf("/",0)!=0&&b.lastIndexOf("http://",0)!=0&&b.lastIndexOf("https://",0)!=0)b=j+b;a=b;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=v(a);if(!this.Config.timeout)this.Config.timeout=10};f.__initLoader();f.each(i,function(a,b){f.__APP_MEMBERS.push(b)});f.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
