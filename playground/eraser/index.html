<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="images/base.css" type="text/css" media="all" />
<title>橡皮擦效果</title>
</head>
<body>

<div id="page">
	<div class="description">橡皮擦效果</div>
	<div module="paper" class="paper"></div>
</div>

<div id="loading">
	<div class="text">正在加载中，请耐心等待...</div>
	<div class="bar">
		<div id="loaded"></div>
	</div>
</div>
<script type="text/javascript">
	void function(){
		var loaderBar = window.loaderBar = {};
		var width = 676, time = 1;
		loaderBar.loaded = document.getElementById("loaded");
		loaderBar.width = 0;
		void function(){
			loaderBar.width += Math.round((width - loaderBar.width) / 30);
			loaderBar.loaded.style.width = loaderBar.width + "px";
			if(loaderBar.width < width){
				time *= 1.2;
				loaderBar.timer = setTimeout(arguments.callee, time);
			}
		}();
		loaderBar.done = function(){
			var loading = document.getElementById("loading");
			clearTimeout(loaderBar.timer);
			loaderBar.loaded.style.width = width + "px";
			setTimeout(function(){
				loading.style.display = "none";
			}, 200);
		};
	}();
</script>
</body>
<script type="text/javascript" src="scripts/loader.js"></script>
</html>